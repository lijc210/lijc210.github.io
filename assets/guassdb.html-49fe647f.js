const e=JSON.parse('{"key":"v-6dcd82b7","path":"/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%BA%93/guassdb.html","title":"guassdb","lang":"zh-CN","frontmatter":{"icon":"edit","date":"2022-01-01T00:00:00.000Z","category":["数据库"],"tag":["guassdb"],"description":"guassdb 优化 1、删除表dim_shop_sales_target在字段target_date上的索引（注：列存表非必要无需创建索引，如创建，可选用btree索引，不要创建默认的psort索引，贵司当前列存表上，基本都是psort索引） 2、dim_jd_erp_shop表，建议修改为复制表（数据总量较小的维度表，建议调整为复制表） 自动更新时间 CREATE TABLE public.ads_order_city_rank ( pkey varchar(50) NOT NULL, sdate date NOT NULL, shop_code_inner varchar(255) NOT NULL, shop_name varchar(200) NULL DEFAULT NULL::character varying, city varchar(200) NULL DEFAULT NULL::character varying, city_rank int4 NOT NULL, city_rank_last float8 NOT NULL, city_rank_first float8 NOT NULL, avg_city_sales float8 NOT NULL, distance_avg_sales float8 NOT NULL, divided_avg_sales float8 NOT NULL, city_rank_max int4 NOT NULL, distance_max_sales float8 NOT NULL, divided_max_sales float8 NOT NULL, create_time timestamp NULL DEFAULT now()::timestamp without time zone, update_time timestamp DEFAULT current_timestamp ON UPDATE current_timestamp, CONSTRAINT ads_order_city_rank_pkey PRIMARY KEY (pkey) ) WITH ( orientation=row, compression=no ); CREATE INDEX idx_shop_code_inner ON ads_order_city_rank USING btree (shop_code_inner) TABLESPACE pg_default;","head":[["meta",{"property":"og:url","content":"https://www.cizai.io/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%BA%93/guassdb.html"}],["meta",{"property":"og:site_name","content":"此在笔记"}],["meta",{"property":"og:title","content":"guassdb"}],["meta",{"property":"og:description","content":"guassdb 优化 1、删除表dim_shop_sales_target在字段target_date上的索引（注：列存表非必要无需创建索引，如创建，可选用btree索引，不要创建默认的psort索引，贵司当前列存表上，基本都是psort索引） 2、dim_jd_erp_shop表，建议修改为复制表（数据总量较小的维度表，建议调整为复制表） 自动更新时间 CREATE TABLE public.ads_order_city_rank ( pkey varchar(50) NOT NULL, sdate date NOT NULL, shop_code_inner varchar(255) NOT NULL, shop_name varchar(200) NULL DEFAULT NULL::character varying, city varchar(200) NULL DEFAULT NULL::character varying, city_rank int4 NOT NULL, city_rank_last float8 NOT NULL, city_rank_first float8 NOT NULL, avg_city_sales float8 NOT NULL, distance_avg_sales float8 NOT NULL, divided_avg_sales float8 NOT NULL, city_rank_max int4 NOT NULL, distance_max_sales float8 NOT NULL, divided_max_sales float8 NOT NULL, create_time timestamp NULL DEFAULT now()::timestamp without time zone, update_time timestamp DEFAULT current_timestamp ON UPDATE current_timestamp, CONSTRAINT ads_order_city_rank_pkey PRIMARY KEY (pkey) ) WITH ( orientation=row, compression=no ); CREATE INDEX idx_shop_code_inner ON ads_order_city_rank USING btree (shop_code_inner) TABLESPACE pg_default;"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-07-13T06:58:32.000Z"}],["meta",{"property":"article:author","content":"cizai"}],["meta",{"property":"article:tag","content":"guassdb"}],["meta",{"property":"article:published_time","content":"2022-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-07-13T06:58:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"guassdb\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2023-07-13T06:58:32.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"cizai\\",\\"url\\":\\"https://www.cizai.io\\"}]}"]]},"headers":[{"level":2,"title":"优化","slug":"优化","link":"#优化","children":[]},{"level":2,"title":"自动更新时间","slug":"自动更新时间","link":"#自动更新时间","children":[]},{"level":2,"title":"常用命令","slug":"常用命令","link":"#常用命令","children":[]}],"git":{"createdTime":1689218642000,"updatedTime":1689231512000,"contributors":[{"name":"lijc210","email":"lijc210@163.com","commits":2}]},"readingTime":{"minutes":1.36,"words":408},"filePathRelative":"大数据/数据库/guassdb.md","localizedDate":"2022年1月1日","excerpt":"<h1> guassdb</h1>\\n<h2> 优化</h2>\\n<ul>\\n<li>1、删除表dim_shop_sales_target在字段target_date上的索引（注：列存表非必要无需创建索引，如创建，可选用btree索引，不要创建默认的psort索引，贵司当前列存表上，基本都是psort索引）</li>\\n<li>2、dim_jd_erp_shop表，建议修改为复制表（数据总量较小的维度表，建议调整为复制表）</li>\\n</ul>\\n<h2> 自动更新时间</h2>\\n<div class=\\"language-text line-numbers-mode\\" data-ext=\\"text\\"><pre class=\\"language-text\\"><code>CREATE TABLE public.ads_order_city_rank (\\npkey varchar(50) NOT NULL,\\nsdate date NOT NULL,\\nshop_code_inner varchar(255) NOT NULL,\\nshop_name varchar(200) NULL DEFAULT NULL::character varying,\\ncity varchar(200) NULL DEFAULT NULL::character varying,\\ncity_rank int4 NOT NULL,\\ncity_rank_last float8 NOT NULL,\\ncity_rank_first float8 NOT NULL,\\navg_city_sales float8 NOT NULL,\\ndistance_avg_sales float8 NOT NULL,\\ndivided_avg_sales float8 NOT NULL,\\ncity_rank_max int4 NOT NULL,\\ndistance_max_sales float8 NOT NULL,\\ndivided_max_sales float8 NOT NULL,\\ncreate_time timestamp NULL DEFAULT now()::timestamp without time zone,\\nupdate_time timestamp DEFAULT current_timestamp ON UPDATE current_timestamp,\\nCONSTRAINT ads_order_city_rank_pkey PRIMARY KEY (pkey)\\n)\\nWITH (\\norientation=row,\\ncompression=no\\n);\\nCREATE INDEX idx_shop_code_inner ON ads_order_city_rank USING btree (shop_code_inner) TABLESPACE pg_default;\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{e as data};
