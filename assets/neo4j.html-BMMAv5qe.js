import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,d as e}from"./app-BLMkWxnK.js";const i={},l=e(`<h1 id="neo4j" tabindex="-1"><a class="header-anchor" href="#neo4j"><span>neo4j</span></a></h1><h2 id="neo4j-查询" tabindex="-1"><a class="header-anchor" href="#neo4j-查询"><span>neo4j 查询</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span># 查某人全部关系</span></span>
<span class="line"><span>return (:star{starname:&quot;张国荣&quot;})--&gt;();</span></span>
<span class="line"><span># 查某人朋友的朋友（5层关系）</span></span>
<span class="line"><span>match p=(n:star{starname:&quot;张国荣&quot;})-[*..5]-&gt;() return p limit 50;</span></span>
<span class="line"><span># 查询特定关系</span></span>
<span class="line"><span>match p=()-[:rel{relation:&quot;旧爱&quot;}]-&gt;() return p LIMIT 25;</span></span>
<span class="line"><span># 使用函数，查询张国荣与张卫健的最短路径</span></span>
<span class="line"><span>match p=shortestpath((:star{starname:&quot;张国荣&quot;})-[*..5]-&gt;(:star{starname:&quot;张卫健&quot;})) return p;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 查询某节点</span></span>
<span class="line"><span>MATCH (n:shop) where n.shop_name=&quot;奥普浴霸苏州专卖店&quot; RETURN n LIMIT 200</span></span>
<span class="line"><span># 查询和某节点的全部关系</span></span>
<span class="line"><span>MATCH p=(:shop{shop_name:&quot;长沙华艺卫浴专营店&quot;})--&gt;() return p LIMIT 200;</span></span>
<span class="line"><span># 查询特定关系</span></span>
<span class="line"><span>MATCH p=()-[r:\`品牌\`]-&gt;() RETURN p LIMIT 200</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 查某节点（5层关系）</span></span>
<span class="line"><span>match p=(n:shop{shop_name:&quot;长沙华艺卫浴专营店&quot;})-[*..5]-&gt;() return p limit 50;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>删除节点和关系</span></span>
<span class="line"><span>MATCH (n:shop) DETACH DELETE n</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="neo4j-load-csv" tabindex="-1"><a class="header-anchor" href="#neo4j-load-csv"><span>neo4j load csv</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>创建店铺与品类，品牌，标签的关系图</span></span>
<span class="line"><span></span></span>
<span class="line"><span>LOAD CSV FROM &#39;file:///店铺.csv&#39; AS data CREATE (:shop{shop_id:data[0], shop_name:data[1]});</span></span>
<span class="line"><span>LOAD CSV FROM &#39;file:///品类.csv&#39; AS data CREATE (:category{category_id:data[0], name:data[1]});</span></span>
<span class="line"><span>LOAD CSV FROM &#39;file:///品牌.csv&#39; AS data CREATE (:brand{id:data[0], name:data[1]});</span></span>
<span class="line"><span>LOAD CSV FROM &#39;file:///标签.csv&#39; AS data CREATE (:label{id:data[0], name:data[1]});</span></span>
<span class="line"><span></span></span>
<span class="line"><span>USING periodic commit 1000</span></span>
<span class="line"><span>LOAD CSV FROM &#39;file:///店铺对应品类.csv&#39; AS data</span></span>
<span class="line"><span>MATCH (from:shop{shop_id:data[0]}),(to:category{category_id:data[3]})</span></span>
<span class="line"><span>create (from)-[r:品类{relation:data[2]}]-&gt; (to);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>LOAD CSV FROM &#39;file:///店铺对应品牌.csv&#39; AS data</span></span>
<span class="line"><span>MATCH (from:shop{shop_id:data[0]}),(to:brand{id:data[3]})</span></span>
<span class="line"><span>create (from)-[r:品牌{relation:data[2]}]-&gt; (to);</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>LOAD CSV FROM &#39;file:///店铺对应标签.csv&#39; AS data</span></span>
<span class="line"><span>MATCH (from:shop{shop_id:data[0]}),(to:label{id:data[3]})</span></span>
<span class="line"><span>Create (from)-[r:标签{relation:data[2]}]-&gt; (to);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),p=[l];function t(d,r){return a(),s("div",null,p)}const m=n(i,[["render",t],["__file","neo4j.html.vue"]]),v=JSON.parse('{"path":"/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j.html","title":"neo4j","lang":"zh-CN","frontmatter":{"icon":"edit","date":"2022-01-01T00:00:00.000Z","category":["数据库"],"tag":["neo4j"],"description":"neo4j neo4j 查询 neo4j load csv","head":[["meta",{"property":"og:url","content":"https://blog.cizai.io/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%BA%93/neo4j.html"}],["meta",{"property":"og:site_name","content":"此在笔记"}],["meta",{"property":"og:title","content":"neo4j"}],["meta",{"property":"og:description","content":"neo4j neo4j 查询 neo4j load csv"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-17T17:45:45.000Z"}],["meta",{"property":"article:author","content":"cizai"}],["meta",{"property":"article:tag","content":"neo4j"}],["meta",{"property":"article:published_time","content":"2022-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-17T17:45:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"neo4j\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-17T17:45:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"cizai\\",\\"url\\":\\"https://blog.cizai.io\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://blog.cizai.io/atom.xml","title":"此在笔记 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://blog.cizai.io/feed.json","title":"此在笔记 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.cizai.io/rss.xml","title":"此在笔记 RSS Feed"}]]},"headers":[{"level":2,"title":"neo4j 查询","slug":"neo4j-查询","link":"#neo4j-查询","children":[]},{"level":2,"title":"neo4j load csv","slug":"neo4j-load-csv","link":"#neo4j-load-csv","children":[]}],"git":{"createdTime":1710697545000,"updatedTime":1710697545000,"contributors":[{"name":"sampan","email":"lijc210@163.com","commits":1}]},"readingTime":{"minutes":1.35,"words":406},"filePathRelative":"大数据/数据库/neo4j.md","localizedDate":"2022年1月1日","excerpt":"\\n<h2>neo4j 查询</h2>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes github-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span># 查某人全部关系</span></span>\\n<span class=\\"line\\"><span>return (:star{starname:\\"张国荣\\"})--&gt;();</span></span>\\n<span class=\\"line\\"><span># 查某人朋友的朋友（5层关系）</span></span>\\n<span class=\\"line\\"><span>match p=(n:star{starname:\\"张国荣\\"})-[*..5]-&gt;() return p limit 50;</span></span>\\n<span class=\\"line\\"><span># 查询特定关系</span></span>\\n<span class=\\"line\\"><span>match p=()-[:rel{relation:\\"旧爱\\"}]-&gt;() return p LIMIT 25;</span></span>\\n<span class=\\"line\\"><span># 使用函数，查询张国荣与张卫健的最短路径</span></span>\\n<span class=\\"line\\"><span>match p=shortestpath((:star{starname:\\"张国荣\\"})-[*..5]-&gt;(:star{starname:\\"张卫健\\"})) return p;</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 查询某节点</span></span>\\n<span class=\\"line\\"><span>MATCH (n:shop) where n.shop_name=\\"奥普浴霸苏州专卖店\\" RETURN n LIMIT 200</span></span>\\n<span class=\\"line\\"><span># 查询和某节点的全部关系</span></span>\\n<span class=\\"line\\"><span>MATCH p=(:shop{shop_name:\\"长沙华艺卫浴专营店\\"})--&gt;() return p LIMIT 200;</span></span>\\n<span class=\\"line\\"><span># 查询特定关系</span></span>\\n<span class=\\"line\\"><span>MATCH p=()-[r:`品牌`]-&gt;() RETURN p LIMIT 200</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span># 查某节点（5层关系）</span></span>\\n<span class=\\"line\\"><span>match p=(n:shop{shop_name:\\"长沙华艺卫浴专营店\\"})-[*..5]-&gt;() return p limit 50;</span></span>\\n<span class=\\"line\\"><span></span></span>\\n<span class=\\"line\\"><span>删除节点和关系</span></span>\\n<span class=\\"line\\"><span>MATCH (n:shop) DETACH DELETE n</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{m as comp,v as data};
