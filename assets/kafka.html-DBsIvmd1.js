import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,o as a,d as s}from"./app-CI-7CPEM.js";const n={},i=s(`<h1 id="kafka" tabindex="-1"><a class="header-anchor" href="#kafka"><span>kafka</span></a></h1><h2 id="kafka-connet-sql-server从指定位置修" tabindex="-1"><a class="header-anchor" href="#kafka-connet-sql-server从指定位置修"><span>kafka connet sql server从指定位置修</span></a></h2><h3 id="发送一条数据到connect-offsets" tabindex="-1"><a class="header-anchor" href="#发送一条数据到connect-offsets"><span>发送一条数据到connect-offsets</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>key：
[&quot;sqlserver-cdc-source-AIS20201114225525&quot;,{&quot;server&quot;:&quot;AIS20201114225525&quot;}]
value：
{&quot;transaction_id&quot;:null,&quot;event_serial_no&quot;:2,&quot;commit_lsn&quot;:&quot;000F9F22:00001660:0003&quot;,&quot;change_lsn&quot;:&quot;000F9F22:00001220:0003&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="重启相关connector无用-要重启指定任务" tabindex="-1"><a class="header-anchor" href="#重启相关connector无用-要重启指定任务"><span>重启相关connector无用，要重启指定任务</span></a></h3><ul><li>/connectors/sqlserver-cdc-source-AIS20201114225525/tasks</li><li>/connectors/sqlserver-cdc-source-AIS20201114225525/tasks/0/restart</li></ul><h2 id="kafka常用命令" tabindex="-1"><a class="header-anchor" href="#kafka常用命令"><span>kafka常用命令</span></a></h2><p>1、启动kafka服务</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>bin/kafka-server-start.sh config/server.properties &amp;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2、停止kafka服务</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-server-stop.sh 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3、查看所有的话题</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-topics.sh --list --zookeeper localhost:9092
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>4、查看所有话题的详细信息</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-topics.sh --zookeeper localhost:2181 --describe
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>5、列出指定话题的详细信息</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-topics.sh --zookeeper localhost:2181 --describe  --topic demo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>6、删除一个话题</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-topics.sh --zookeeper localhost:2181 --delete  --topic test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>7、创建一个叫test的话题，有两个分区，每个分区3个副本</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-topics.sh --zookeeper localhost:2181 --create --topic test --replication-factor 3 --partitions 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>8、测试kafka发送和接收消息（启动两个终端）</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>#发送消息（注意端口号为配置文件里面的端口号）
./kafka-console-producer.sh --broker-list localhost:9092 --topic test
#消费消息（可能端口号与配置文件保持一致，或与发送端口保持一致）
./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning   #加了--from-beginning 重头消费所有的消息./kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test         #不加--from-beginning 从最新的一条消息开始消费
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>9、查看某个topic对应的消息数量</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-run-class.sh  kafka.tools.GetOffsetShell --broker-list localhost:9092 --topic test --time -1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>10、显示所有消费者</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-consumer-groups.sh --bootstrap-server localhost:9092 --list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>11、获取正在消费的topic（console-consumer-63307）的group的offset</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-consumer-groups.sh --describe --group console-consumer-63307 --bootstrap-server localhost:9092
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>11、显示消费者</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>./kafka-consumer-groups.sh --bootstrap-server localhost:9092 --list
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,31),o=[i];function r(l,c){return a(),t("div",null,o)}const u=e(n,[["render",r],["__file","kafka.html.vue"]]),v=JSON.parse('{"path":"/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/kafka.html","title":"kafka","lang":"zh-CN","frontmatter":{"icon":"edit","date":"2022-01-01T00:00:00.000Z","category":["组件"],"tag":["kafka"],"description":"kafka kafka connet sql server从指定位置修 发送一条数据到connect-offsets 重启相关connector无用，要重启指定任务 /connectors/sqlserver-cdc-source-AIS20201114225525/tasks /connectors/sqlserver-cdc-source-AIS2...","head":[["meta",{"property":"og:url","content":"https://blog.cizai.io/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/kafka.html"}],["meta",{"property":"og:site_name","content":"此在笔记"}],["meta",{"property":"og:title","content":"kafka"}],["meta",{"property":"og:description","content":"kafka kafka connet sql server从指定位置修 发送一条数据到connect-offsets 重启相关connector无用，要重启指定任务 /connectors/sqlserver-cdc-source-AIS20201114225525/tasks /connectors/sqlserver-cdc-source-AIS2..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-17T17:45:45.000Z"}],["meta",{"property":"article:author","content":"cizai"}],["meta",{"property":"article:tag","content":"kafka"}],["meta",{"property":"article:published_time","content":"2022-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-17T17:45:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"kafka\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-17T17:45:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"cizai\\",\\"url\\":\\"https://blog.cizai.io\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://blog.cizai.io/atom.xml","title":"此在笔记 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://blog.cizai.io/feed.json","title":"此在笔记 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.cizai.io/rss.xml","title":"此在笔记 RSS Feed"}]]},"headers":[{"level":2,"title":"kafka connet  sql server从指定位置修","slug":"kafka-connet-sql-server从指定位置修","link":"#kafka-connet-sql-server从指定位置修","children":[{"level":3,"title":"发送一条数据到connect-offsets","slug":"发送一条数据到connect-offsets","link":"#发送一条数据到connect-offsets","children":[]},{"level":3,"title":"重启相关connector无用，要重启指定任务","slug":"重启相关connector无用-要重启指定任务","link":"#重启相关connector无用-要重启指定任务","children":[]}]},{"level":2,"title":"kafka常用命令","slug":"kafka常用命令","link":"#kafka常用命令","children":[]}],"git":{"createdTime":1710697545000,"updatedTime":1710697545000,"contributors":[{"name":"sampan","email":"lijc210@163.com","commits":1}]},"readingTime":{"minutes":1.35,"words":406},"filePathRelative":"大数据/组件/kafka.md","localizedDate":"2022年1月1日","excerpt":"\\n<h2>kafka connet  sql server从指定位置修</h2>\\n<h3>发送一条数据到connect-offsets</h3>\\n<div class=\\"language-text\\" data-ext=\\"text\\" data-title=\\"text\\"><pre class=\\"language-text\\"><code>key：\\n[\\"sqlserver-cdc-source-AIS20201114225525\\",{\\"server\\":\\"AIS20201114225525\\"}]\\nvalue：\\n{\\"transaction_id\\":null,\\"event_serial_no\\":2,\\"commit_lsn\\":\\"000F9F22:00001660:0003\\",\\"change_lsn\\":\\"000F9F22:00001220:0003\\"}\\n</code></pre></div>","autoDesc":true}');export{u as comp,v as data};
