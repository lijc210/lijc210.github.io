import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,o as l,d as a}from"./app-BsDyNDJI.js";const s={},n=a(`<h1 id="wsl" tabindex="-1"><a class="header-anchor" href="#wsl"><span>wsl</span></a></h1><h2 id="列出wsl子系统" tabindex="-1"><a class="header-anchor" href="#列出wsl子系统"><span>列出WSL子系统</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wslconfig /list
wsl --list
wsl -l -v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="关闭ubuntu子系统" tabindex="-1"><a class="header-anchor" href="#关闭ubuntu子系统"><span>关闭Ubuntu子系统</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wsl --terminate Ubuntu
wsl -t Ubuntu
wsl --shutdown
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动wsl" tabindex="-1"><a class="header-anchor" href="#启动wsl"><span>启动WSL</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wsl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="windows下访问wsl2下的ubuntu文件" tabindex="-1"><a class="header-anchor" href="#windows下访问wsl2下的ubuntu文件"><span>windows下访问wsl2下的ubuntu文件</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>\\\\wsl.localhost\\Ubuntu
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="限制wsl2内存" tabindex="-1"><a class="header-anchor" href="#限制wsl2内存"><span>限制wsl2内存</span></a></h2><p>C:\\Users\\YourUsername\\.wslconfig</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>[wsl2]
memory=4GB  # Limits VM memory in WSL 2GB
swap=4GB
localhostForwarding=true
processors=4 # Makes the WSL 2 VM use two virtual processors
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="如何在局域网的其他主机上中访问本机的wsl2" tabindex="-1"><a class="header-anchor" href="#如何在局域网的其他主机上中访问本机的wsl2"><span>如何在局域网的其他主机上中访问本机的WSL2</span></a></h2><p>listenport 后面跟本机端口（你提供给手机访问的端口），connectaddress 后面跟WSL2的ip地址，connectport 后面跟WSL2里服务使用的端口。</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>netsh interface portproxy add v4tov4 listenport=15603 connectaddress= 172.26.35.90 connectport=15603 listenaddress=0.0.0.0 protocol=tcp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="wsl2文件迁移到d盘" tabindex="-1"><a class="header-anchor" href="#wsl2文件迁移到d盘"><span>WSL2文件迁移到D盘</span></a></h2><h3 id="查看当前wsl" tabindex="-1"><a class="header-anchor" href="#查看当前wsl"><span>查看当前wsl</span></a></h3><p>通过输出看到当前的wsl名称是Ubuntu</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wsl -l

适用于 Linux 的 Windows 子系统分发版:
Ubuntu (默认)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导出" tabindex="-1"><a class="header-anchor" href="#导出"><span>导出</span></a></h3><p>导出到D盘，文件名为ubuntu.tar，这里需要等一段时间。</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wsl --export Ubuntu d://ubuntu.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="注销原wsl" tabindex="-1"><a class="header-anchor" href="#注销原wsl"><span>注销原wsl</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wsl --unregister Ubuntu
正在注销...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导入" tabindex="-1"><a class="header-anchor" href="#导入"><span>导入</span></a></h3><p>先在D盘新建文件夹存放wls文件，然后将上面导出的ubuntu.tar文件，通过wsl的import命令导入，指定导入的wsl文件夹和上面导出的tar文件。导入也需要等待。</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wsl --import Ubuntu d:\\wsl\\Ubuntu D:\\ubuntu.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>导入成功后，启动</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wsl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>发现是root用户登陆的，在powershell中执行命令，修改默认登陆账户</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Ubuntu config --default-user ubuntu
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="开启自动启动服务" tabindex="-1"><a class="header-anchor" href="#开启自动启动服务"><span>开启自动启动服务</span></a></h3><ol><li>在windows系统上，使用 windows + r 键，调出运行，输入 shell:startup 进入开机启动项文件夹</li><li>新建文件：wsl.vbs，名字自定义，但必须使用 vbs 作为扩展名</li><li>添加如下内容：</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Set ws = CreateObject(&quot;Wscript.Shell&quot;)
ws.run &quot;wsl -d ubuntu -u root python3 /home/lijc/.config/init.py&quot;, vbhide
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,34),i=[n];function d(r,u){return l(),t("div",null,i)}const p=e(s,[["render",d],["__file","wsl.html.vue"]]),h=JSON.parse('{"path":"/%E7%B3%BB%E7%BB%9F/windows/wsl.html","title":"wsl","lang":"zh-CN","frontmatter":{"icon":"edit","date":"2022-01-01T00:00:00.000Z","category":["windows"],"tag":["wsl"],"description":"wsl 列出WSL子系统 关闭Ubuntu子系统 启动WSL windows下访问wsl2下的ubuntu文件 限制wsl2内存 C:\\\\Users\\\\YourUsername\\\\.wslconfig 如何在局域网的其他主机上中访问本机的WSL2 listenport 后面跟本机端口（你提供给手机访问的端口），connectaddress 后面跟WSL2的i...","head":[["meta",{"property":"og:url","content":"https://blog.cizai.io/%E7%B3%BB%E7%BB%9F/windows/wsl.html"}],["meta",{"property":"og:site_name","content":"此在笔记"}],["meta",{"property":"og:title","content":"wsl"}],["meta",{"property":"og:description","content":"wsl 列出WSL子系统 关闭Ubuntu子系统 启动WSL windows下访问wsl2下的ubuntu文件 限制wsl2内存 C:\\\\Users\\\\YourUsername\\\\.wslconfig 如何在局域网的其他主机上中访问本机的WSL2 listenport 后面跟本机端口（你提供给手机访问的端口），connectaddress 后面跟WSL2的i..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-17T17:45:45.000Z"}],["meta",{"property":"article:author","content":"cizai"}],["meta",{"property":"article:tag","content":"wsl"}],["meta",{"property":"article:published_time","content":"2022-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-17T17:45:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"wsl\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-01-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-17T17:45:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"cizai\\",\\"url\\":\\"https://blog.cizai.io\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://blog.cizai.io/atom.xml","title":"此在笔记 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://blog.cizai.io/feed.json","title":"此在笔记 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.cizai.io/rss.xml","title":"此在笔记 RSS Feed"}]]},"headers":[{"level":2,"title":"列出WSL子系统","slug":"列出wsl子系统","link":"#列出wsl子系统","children":[]},{"level":2,"title":"关闭Ubuntu子系统","slug":"关闭ubuntu子系统","link":"#关闭ubuntu子系统","children":[]},{"level":2,"title":"启动WSL","slug":"启动wsl","link":"#启动wsl","children":[]},{"level":2,"title":"windows下访问wsl2下的ubuntu文件","slug":"windows下访问wsl2下的ubuntu文件","link":"#windows下访问wsl2下的ubuntu文件","children":[]},{"level":2,"title":"限制wsl2内存","slug":"限制wsl2内存","link":"#限制wsl2内存","children":[]},{"level":2,"title":"如何在局域网的其他主机上中访问本机的WSL2","slug":"如何在局域网的其他主机上中访问本机的wsl2","link":"#如何在局域网的其他主机上中访问本机的wsl2","children":[]},{"level":2,"title":"WSL2文件迁移到D盘","slug":"wsl2文件迁移到d盘","link":"#wsl2文件迁移到d盘","children":[{"level":3,"title":"查看当前wsl","slug":"查看当前wsl","link":"#查看当前wsl","children":[]},{"level":3,"title":"导出","slug":"导出","link":"#导出","children":[]},{"level":3,"title":"注销原wsl","slug":"注销原wsl","link":"#注销原wsl","children":[]},{"level":3,"title":"导入","slug":"导入","link":"#导入","children":[]},{"level":3,"title":"开启自动启动服务","slug":"开启自动启动服务","link":"#开启自动启动服务","children":[]}]}],"git":{"createdTime":1710697545000,"updatedTime":1710697545000,"contributors":[{"name":"sampan","email":"lijc210@163.com","commits":1}]},"readingTime":{"minutes":1.43,"words":429},"filePathRelative":"系统/windows/wsl.md","localizedDate":"2022年1月1日","excerpt":"\\n<h2>列出WSL子系统</h2>\\n<div class=\\"language-text\\" data-ext=\\"text\\" data-title=\\"text\\"><pre class=\\"language-text\\"><code>wslconfig /list\\nwsl --list\\nwsl -l -v\\n</code></pre></div><h2>关闭Ubuntu子系统</h2>\\n<div class=\\"language-text\\" data-ext=\\"text\\" data-title=\\"text\\"><pre class=\\"language-text\\"><code>wsl --terminate Ubuntu\\nwsl -t Ubuntu\\nwsl --shutdown\\n</code></pre></div>","autoDesc":true}');export{p as comp,h as data};
