<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.52" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://blog.cizai.io/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/flink.html"><meta property="og:site_name" content="æ­¤åœ¨ç¬”è®°"><meta property="og:title" content="flink"><meta property="og:description" content="flink flinkä¼˜åŒ–å‚æ•° taskmanager.memory.managed.fraction æ˜¯ Apache Flink ä¸­çš„ä¸€ä¸ªé…ç½®å‚æ•°ï¼Œç”¨äºå®šä¹‰ TaskManager è¿›ç¨‹ä¸­æ‰˜ç®¡å†…å­˜çš„å æ¯”ã€‚æ‰˜ç®¡å†…å­˜ï¼ˆManaged Memoryï¼‰ä¸»è¦ç”¨äº Flink ä¸­çš„ä¸€äº›å†…å­˜å¯†é›†å‹æ“ä½œï¼Œæ¯”å¦‚æ’åºã€å“ˆå¸Œè¿æ¥ã€ä»¥åŠ RocksDB çŠ¶æ€åç«¯ç­‰ã€‚ é»˜è®¤..."><meta property="og:type" content="article"><meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTWNReWZxN0h6ZnVIV1FCWEF0NlJabjlWejd6cEZoWU5kWnhkNFdrd2ljSmljdFdsQ0JKSGUxSk9RLzY0MA?x-oss-process=image/format,png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-08-28T08:33:04.000Z"><meta property="article:author" content="cizai"><meta property="article:tag" content="flink"><meta property="article:published_time" content="2022-01-01T00:00:00.000Z"><meta property="article:modified_time" content="2024-08-28T08:33:04.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"flink","image":["https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTWNReWZxN0h6ZnVIV1FCWEF0NlJabjlWejd6cEZoWU5kWnhkNFdrd2ljSmljdFdsQ0JKSGUxSk9RLzY0MA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTVN2OUx6eUZ3aWFoUnhWUzBVNDlpYUg2dkVodk53OEhPbGJLNGliVzc4N3BUaEdNaWN5ZFEyYXR5cEEvNjQw?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTTVkRm5lRlpDQlhPUlJTaWFpY2w0dlBuVlJINTdpYU92Qmpyd0hxOFFpY1haNW9SY1VqcG9hMk00V0EvNjQw?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTVBSbEZ5Z0dXdUdvMHJjaWJBZk5PWVNlNE5HVW1sU3FpY3R4OVp1SmlhM0NBTnhpY3VTU2ljcHl6ZEtBLzY0MA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTTVYUkgyeXB4QUFHa3d0MWlhSktlbHBZVkM5anEyc01HYUZGaWFNSDBYODdLWmNiNkgzcWtYQlpBLzY0MA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTVZnU0hMTWE4cEdLY3BkTExRcHlYbHdRRlowQ1g0Y2ZzSFV1dE9OdDJEc3F5VGRMcm42YUw5US82NDA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTVZocWpkcExTSlRpYTVxUXA4ZHpBYjVLWlRCTUttTEtDbkpmdWliTmthaWNNSnFZVGVIcXJiMU5ldy82NDA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTXlKVlJKUGlhWEJPZTlWclBSWllxU0tuYjdFb1BrRlo2bGpCNVpKZjdJNHY1QTZUdmVXTkREd0EvNjQw?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTUZFVTZ6eFFDVmIxQWpQQzJhT1BoOW53TFFocXZBbnRYRkE1ZUt1WlZaaWJKQmliZWZOQ1JqaWF2dy82NDA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTXlBb0VCZFFqQUZMUElkT3pJbWliS0RTNTIxaWFrYlQ1bm9rVG0xZXR4T3cwWkxvZUFFMGQ1cFJnLzY0MA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTURsSHVGakdKMlRKUk1TS2FtY2lhcUVQRGtWcXUxbTM5a281NkNuVTNERXFpYmxYRGt6dUJueDZ3LzY0MA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTWdTZjBSQnRGRndFVEw0T3E1eHkzd0lkNGJhSkdDdE0waWJlNm9DeGdHQWVJRUJpYjVLaWI4Tzc0QS82NDA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTTBEY3l5UzdzdWNjVndIV0RMRURaYzZiRzIxeXJHMUk0a1NMV25SZWJWZHk3Zm9jNUlXVDd0QS82NDA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTUZZMGRTVTJoQVVxNERpY2VxSWNPcEIxQmdpYnZQdzNzRTJCbkNVM3pXVkJ0cXdwc2pnZFAweHB3LzY0MA?x-oss-process=image/format,png","https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy8weUJEOWlhclgwbnZDaWI5RWt0QVVJeDdSQVppYUhmNUxuT1E5OHlnWWliMWZ4OFY1dDVXM0hNSjFJTXZmaWFUbEFtcFZPTTJRQXdvWHZkaWJsRmhsWjRNQ2E4QS82NDA?x-oss-process=image/format,png"],"datePublished":"2022-01-01T00:00:00.000Z","dateModified":"2024-08-28T08:33:04.000Z","author":[{"@type":"Person","name":"cizai","url":"https://blog.cizai.io"}]}</script><link rel="alternate" type="application/atom+xml" href="https://blog.cizai.io/atom.xml" title="æ­¤åœ¨ç¬”è®° Atom Feed"><link rel="alternate" type="application/json" href="https://blog.cizai.io/feed.json" title="æ­¤åœ¨ç¬”è®° JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://blog.cizai.io/rss.xml" title="æ­¤åœ¨ç¬”è®° RSS Feed"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/assets/icon/logo-512.png" type="image/png" sizes="512x512"><link rel="icon" href="/assets/icon/logo-192.png" type="image/png" sizes="192x192"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/assets/icon/logo-192.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/assets/icon/logo-192.png"><meta name="msapplication-TileColor" content="#ffffff"><title>flink | æ­¤åœ¨ç¬”è®°</title><meta name="description" content="flink flinkä¼˜åŒ–å‚æ•° taskmanager.memory.managed.fraction æ˜¯ Apache Flink ä¸­çš„ä¸€ä¸ªé…ç½®å‚æ•°ï¼Œç”¨äºå®šä¹‰ TaskManager è¿›ç¨‹ä¸­æ‰˜ç®¡å†…å­˜çš„å æ¯”ã€‚æ‰˜ç®¡å†…å­˜ï¼ˆManaged Memoryï¼‰ä¸»è¦ç”¨äº Flink ä¸­çš„ä¸€äº›å†…å­˜å¯†é›†å‹æ“ä½œï¼Œæ¯”å¦‚æ’åºã€å“ˆå¸Œè¿æ¥ã€ä»¥åŠ RocksDB çŠ¶æ€åç«¯ç­‰ã€‚ é»˜è®¤...">
    <link rel="preload" href="/assets/style-D-76ZrYq.css" as="style"><link rel="stylesheet" href="/assets/style-D-76ZrYq.css">
    <link rel="modulepreload" href="/assets/app-Mj20pNCd.js"><link rel="modulepreload" href="/assets/flink.html-BF5EmhYF.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">æ­¤åœ¨ç¬”è®°</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="ä¸»é¡µ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ç¼–ç¨‹"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-code" style=""></span>ç¼–ç¨‹<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%BC%96%E7%A8%8B/%E8%AF%AD%E8%A8%80/" aria-label="è¯­è¨€"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->è¯­è¨€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%BC%96%E7%A8%8B/%E5%B7%A5%E5%85%B7/" aria-label="å·¥å…·"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->å·¥å…·<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%BC%96%E7%A8%8B/%E6%A1%86%E6%9E%B6/" aria-label="æ¡†æ¶"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->æ¡†æ¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%BC%96%E7%A8%8B/%E7%AE%97%E6%B3%95/" aria-label="ç®—æ³•"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->ç®—æ³•<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%BC%96%E7%A8%8B/%E7%BB%93%E6%9E%84/" aria-label="ç»“æ„"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->ç»“æ„<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%BC%96%E7%A8%8B/%E8%B5%84%E6%BA%90/" aria-label="èµ„æº"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->èµ„æº<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å¤§æ•°æ®"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-database" style=""></span>å¤§æ•°æ®<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E6%95%B0%E6%8D%AE%E5%BA%93/" aria-label="æ•°æ®åº“"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->æ•°æ®åº“<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/" aria-label="ç»„ä»¶"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->ç»„ä»¶<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ç³»ç»Ÿ"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-apple" style=""></span>ç³»ç»Ÿ<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%B3%BB%E7%BB%9F/android/" aria-label="android"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->android<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%B3%BB%E7%BB%9F/darwin/" aria-label="darwin"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->darwin<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%B3%BB%E7%BB%9F/ios/" aria-label="ios"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->ios<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%B3%BB%E7%BB%9F/linux/" aria-label="linux"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->linux<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%B3%BB%E7%BB%9F/windows/" aria-label="windows"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->windows<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ç”Ÿæ´»"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-mug-hot" style=""></span>ç”Ÿæ´»<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%94%9F%E6%B4%BB/%E5%8F%A5%E5%AD%90/" aria-label="å¥å­"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->å¥å­<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%94%9F%E6%B4%BB/%E6%96%87%E7%AB%A0/" aria-label="æ–‡ç« "><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->æ–‡ç« <!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/%E7%94%9F%E6%B4%BB/%E5%93%B2%E5%AD%A6/" aria-label="å“²å­¦"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-edit" style=""></span><!--]-->å“²å­¦<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://news.cizai.io/" aria-label="æ­¤åœ¨æ–°é—»" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-newspaper" style=""></span><!--]-->æ­¤åœ¨æ–°é—»<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://nas.cizai.net/miniflux/" aria-label="æ¯æ—¥æ‚¦è¯»" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book" style=""></span><!--]-->æ¯æ—¥æ‚¦è¯»<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Contact"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-edit" style=""></span>Contact<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="auto-link external-link" href="mailto:lijc210@163.com" aria-label="Email" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-envelope" style=""></span><!--]-->Email<!----></a></li><li class="vp-dropdown-item"><a class="auto-link external-link" href="https://blog.cizai.io/rss.xml" aria-label="RSS" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-rss" style=""></span><!--]-->RSS<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="é€‰æ‹©è¯­è¨€"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" name="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/flink.html" aria-label="ç®€ä½“ä¸­æ–‡"><!---->ç®€ä½“ä¸­æ–‡<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/en/" aria-label="English"><!---->English<!----></a></li></ul></button></div></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/lijc210/lijc210.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢æ–‡æ¡£"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/" aria-label="ä¸»é¡µ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->ä¸»é¡µ<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-solid fa-code" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/%E7%BC%96%E7%A8%8B/" aria-label="ç¼–ç¨‹"><!---->ç¼–ç¨‹<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><span class="font-icon icon fa-fw fa-sm fa-solid fa-database" style=""></span><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/" aria-label="å¤§æ•°æ®"><!---->å¤§æ•°æ®<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">æ•°æ®åº“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">ç»„ä»¶</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/debezium.html" aria-label="debezium"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span><!--]-->debezium<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/flink.html" aria-label="flink"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span><!--]-->flink<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/hadoop.html" aria-label="hadoop"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span><!--]-->hadoop<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/kafka.html" aria-label="kafka"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span><!--]-->kafka<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/spark.html" aria-label="spark"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span><!--]-->spark<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/superset.html" aria-label="superset"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span><!--]-->superset<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/zookeeper.html" aria-label="zookeeper"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span><!--]-->zookeeper<!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-brands fa-apple" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/%E7%B3%BB%E7%BB%9F/" aria-label="ç³»ç»Ÿ"><!---->ç³»ç»Ÿ<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fa-solid fa-mug-hot" style=""></span><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/%E7%94%9F%E6%B4%BB/" aria-label="ç”Ÿæ´»"><!---->ç”Ÿæ´»<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99.html" aria-label="å…³äºæœ¬ç«™"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-info" style=""></span><!--]-->å…³äºæœ¬ç«™<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/%E7%AB%99%E7%82%B9%E6%94%B6%E8%97%8F.html" aria-label="ç«™ç‚¹æ”¶è—"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-link" style=""></span><!--]-->ç«™ç‚¹æ”¶è—<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span>flink</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://blog.cizai.io" target="_blank" rel="noopener noreferrer">cizai</a></span><span property="author" content="cizai"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-01-01T00:00:00.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon" name="eye"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="vp-pageview waline-pageview-count" data-path="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/flink.html" data-page-key="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/flink.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 32 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT32M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color7 clickable" role="navigation">ç»„ä»¶</span><!--]--><meta property="articleSection" content="ç»„ä»¶"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color6 clickable" role="navigation">flink</span><!--]--><meta property="keywords" content="flink"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#flinkä¼˜åŒ–å‚æ•°">flinkä¼˜åŒ–å‚æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å†™å…¥æ•°æ®åº“ä¼˜åŒ–">å†™å…¥æ•°æ®åº“ä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#savepoint">SavePoint</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#flinké¢è¯•-çœ‹è¿™ç¯‡å°±è¶³å¤Ÿäº†">Flinké¢è¯•ï¼Œçœ‹è¿™ç¯‡å°±è¶³å¤Ÿäº†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ¦‚è¿°">æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç¬¬ä¸€éƒ¨åˆ†-flink-ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå’ŒåŸºç¡€è€ƒå¯Ÿ">ç¬¬ä¸€éƒ¨åˆ†ï¼šFlink ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå’ŒåŸºç¡€è€ƒå¯Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç¬¬äºŒéƒ¨åˆ†-flink-é¢è¯•è¿›é˜¶ç¯‡">ç¬¬äºŒéƒ¨åˆ†ï¼šFlink é¢è¯•è¿›é˜¶ç¯‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç¬¬ä¸‰éƒ¨åˆ†-flink-é¢è¯•æºç ç¯‡">ç¬¬ä¸‰éƒ¨åˆ†ï¼šFlink é¢è¯•æºç ç¯‡</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><h1 id="flink" tabindex="-1"><a class="header-anchor" href="#flink"><span>flink</span></a></h1><h2 id="flinkä¼˜åŒ–å‚æ•°" tabindex="-1"><a class="header-anchor" href="#flinkä¼˜åŒ–å‚æ•°"><span>flinkä¼˜åŒ–å‚æ•°</span></a></h2><p>taskmanager.memory.managed.fraction æ˜¯ Apache Flink ä¸­çš„ä¸€ä¸ªé…ç½®å‚æ•°ï¼Œç”¨äºå®šä¹‰ TaskManager è¿›ç¨‹ä¸­æ‰˜ç®¡å†…å­˜çš„å æ¯”ã€‚æ‰˜ç®¡å†…å­˜ï¼ˆManaged Memoryï¼‰ä¸»è¦ç”¨äº Flink ä¸­çš„ä¸€äº›å†…å­˜å¯†é›†å‹æ“ä½œï¼Œæ¯”å¦‚æ’åºã€å“ˆå¸Œè¿æ¥ã€ä»¥åŠ RocksDB çŠ¶æ€åç«¯ç­‰ã€‚ é»˜è®¤å€¼: è¯¥å‚æ•°çš„é»˜è®¤å€¼é€šå¸¸ä¸º 0.4ï¼Œå³ 40% çš„å¯ç”¨å †å†…å­˜ä¼šåˆ†é…ç»™æ‰˜ç®¡å†…å­˜ã€‚ å‚æ•°ç±»å‹: å°æ•°ï¼Œå–å€¼èŒƒå›´åœ¨ 0.0 åˆ° 1.0 ä¹‹é—´ã€‚</p><p>taskmanager.memory.network.fraction æ˜¯ Apache Flink ä¸­çš„ä¸€ä¸ªé…ç½®å‚æ•°ï¼Œç”¨äºå®šä¹‰ TaskManager è¿›ç¨‹ä¸­ç½‘ç»œå†…å­˜çš„å æ¯”ã€‚ç½‘ç»œå†…å­˜ï¼ˆNetwork Memoryï¼‰ç”¨äº Flink çš„æ•°æ®ä¼ è¾“å’Œç½‘ç»œç¼“å†²ï¼Œä¸»è¦è´Ÿè´£ TaskManager ä¹‹é—´çš„æ•°æ®äº¤æ¢ã€‚</p><p>é»˜è®¤å€¼: è¯¥å‚æ•°çš„é»˜è®¤å€¼é€šå¸¸ä¸º 0.1ï¼Œå³ 10% çš„å¯ç”¨å †å†…å­˜ä¼šåˆ†é…ç»™ç½‘ç»œå†…å­˜ã€‚ å‚æ•°ç±»å‹: å°æ•°ï¼Œå–å€¼èŒƒå›´åœ¨ 0.0 åˆ° 1.0 ä¹‹é—´ã€‚</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">table.exec.state.ttl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=172800000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">table.exec.mini-batch.enabled</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">true</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">table.exec.mini-batch.allow-latency</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=10s</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">table.exec.mini-batch.size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=10000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">table.exec.topn.cache-size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=100000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">table.optimizer.agg-phase-strategy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=TWO_PHASE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">state.backend.rocksdb.block.cache-size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=512m</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">taskmanager.memory.network.fraction</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=0.2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">taskmanager.memory.managed.fraction</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=0.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å†™å…¥æ•°æ®åº“ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å†™å…¥æ•°æ®åº“ä¼˜åŒ–"><span>å†™å…¥æ•°æ®åº“ä¼˜åŒ–</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;sink.buffer-flush.max-rows&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;500&#39;,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&#39;sink.buffer-flush.interval&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;5s&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="savepoint" tabindex="-1"><a class="header-anchor" href="#savepoint"><span>SavePoint</span></a></h2><ul><li>SavePointçš„è·¯å¾„éœ€è¦åœ¨flink-conf.yamlä¸­é…ç½®ã€‚</li></ul><blockquote><p>state.savepoints.dir: hdfs://node01:8020/flink/state/savepoint</p></blockquote><ul><li>ä¸¤ç§savepointæ–¹å¼:</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>æ‰‹åŠ¨æ‰§è¡Œ:</span></span>
<span class="line"><span>flink savepoint 4a16a8c87321ecfb00f0689587255e1b /srv/flinkcdc/flinkresults/savepoints</span></span>
<span class="line"><span>é€€å‡ºæ—¶è‡ªåŠ¨ä¿å­˜savepoint(é‡‡ç”¨é…ç½®æ–‡ä»¶é‡Œçš„è·¯å¾„):</span></span>
<span class="line"><span>flink cancel -m 192.168.1.132:18081 4a16a8c87321ecfb00f0689587255e1b</span></span>
<span class="line"><span> flink cancel -s 383ab06479bea1a31310c2558c0da014</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»¥æŒ‡å®šsavepointæ–¹å¼å¯åŠ¨:</li></ul><blockquote><p>flink run -s file:/home/hadoop/flink-1.12.0/rocksdb/savepoint-8ca381-918c260bd48f -c com.guoquan.flink_dwd_gqsh_order.dwdOrderHbase flink_dwd_gqsh_order- 1.0-SNAPSHOT.jar</p></blockquote><ul><li>-n å¿½ç•¥ä¸å¯æ¢å¤çš„ç®—å­</li></ul><blockquote><p>flink run -s file:/home/hadoop/flink-1.12.0/rocksdb/savepoint-8ca381-918c260bd48f -n -c com.guoquan.flink_dwd_gqsh_order.dwdOrderHbase flink_dwd_gqsh_order- 1.0-SNAPSHOT.jar</p></blockquote><p>ä»checkpointæ¢å¤å¯åŠ¨æ—¶ï¼Œä¸­æ–­æœŸé—´æºä¸­ç§¯ç´¯çš„æ•°æ®å¹¶æœªç«‹å³è®¡ç®—ï¼Œå½“æ–°æ•°æ®è¿›æ¥æ—¶ä¼šè‡ªåŠ¨è§¦å‘ä¸­æ–­æœŸé—´ç§¯ç´¯æ•°æ®çš„è®¡ç®—ã€‚</p><h2 id="flinké¢è¯•-çœ‹è¿™ç¯‡å°±è¶³å¤Ÿäº†" tabindex="-1"><a class="header-anchor" href="#flinké¢è¯•-çœ‹è¿™ç¯‡å°±è¶³å¤Ÿäº†"><span>Flinké¢è¯•ï¼Œçœ‹è¿™ç¯‡å°±è¶³å¤Ÿäº†</span></a></h2><h2 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°"><span>æ¦‚è¿°</span></a></h2><p>2019 å¹´æ˜¯å¤§æ•°æ®å®æ—¶è®¡ç®—é¢†åŸŸæœ€ä¸å¹³å‡¡çš„ä¸€å¹´ï¼Œ2019 å¹´ 1 æœˆé˜¿é‡Œå·´å·´ Blink ï¼ˆå†…éƒ¨çš„ Flink åˆ†æ”¯ç‰ˆæœ¬ï¼‰å¼€æºï¼Œå¤§æ•°æ®é¢†åŸŸä¸€å¤œé—´ä» Spark ç‹¬æ­¥å¤©ä¸‹èµ°å‘äº†ä¸¤å¼ºäº‰éœ¸çš„æ—¶ä»£ã€‚Flink å› ä¸ºå…¶å¤©ç„¶çš„æµå¼è®¡ç®—ç‰¹æ€§ä»¥åŠå¼ºå¤§çš„å¤„ç†æ€§èƒ½æˆä¸ºç‚™æ‰‹å¯çƒ­çš„å¤§æ•°æ®å¤„ç†æ¡†æ¶ã€‚</p><p>æ—¶è‡³ä»Šæ—¥ï¼ŒFlink å·²ç»å‘å±•åˆ° 1.9 ç‰ˆæœ¬ï¼Œåœ¨å¤§æ•°æ®å¼€å‘é¢†åŸŸï¼Œé¢è¯•ä¸­å¯¹äº Flink çš„è€ƒå¯Ÿå·²ç»æ˜¯å¤§æ•°æ®å¼€å‘æ±‚èŒè€…å¿…é¡»é¢å¯¹çš„ï¼Œæœ¬æ–‡ç»“åˆè‡ªå·±ä½œä¸ºé¢è¯•å®˜è¿‡ç¨‹ä¸­çš„ç»éªŒè¯¦ç»†æ€»ç»“äº†è¿‘ 50 ä¸ªå…³äº Flink çš„é¢è¯•è€ƒå¯Ÿç‚¹ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><p>ç¬¬ä¸€éƒ¨åˆ†ï¼šFlink ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå’ŒåŸºç¡€ç¯‡ï¼ŒåŒ…å«äº† Flink çš„æ•´ä½“ä»‹ç»ã€æ ¸å¿ƒæ¦‚å¿µã€ç®—å­ç­‰è€ƒå¯Ÿç‚¹ã€‚</p><p>ç¬¬äºŒéƒ¨åˆ†ï¼šFlink è¿›é˜¶ç¯‡ï¼ŒåŒ…å«äº† Flink ä¸­çš„æ•°æ®ä¼ è¾“ã€å®¹é”™æœºåˆ¶ã€åºåˆ—åŒ–ã€æ•°æ®çƒ­ç‚¹ã€åå‹ç­‰å®é™…ç”Ÿäº§ç¯å¢ƒä¸­é‡åˆ°çš„é—®é¢˜ç­‰è€ƒå¯Ÿç‚¹ã€‚</p><p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šFlink æºç ç¯‡ï¼ŒåŒ…å«äº† Flink çš„æ ¸å¿ƒä»£ç å®ç°ã€Job æäº¤æµç¨‹ã€æ•°æ®äº¤æ¢ã€åˆ†å¸ƒå¼å¿«ç…§æœºåˆ¶ã€Flink SQL çš„åŸç†ç­‰è€ƒå¯Ÿç‚¹ã€‚</p><h2 id="ç¬¬ä¸€éƒ¨åˆ†-flink-ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå’ŒåŸºç¡€è€ƒå¯Ÿ" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€éƒ¨åˆ†-flink-ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå’ŒåŸºç¡€è€ƒå¯Ÿ"><span>ç¬¬ä¸€éƒ¨åˆ†ï¼šFlink ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå’ŒåŸºç¡€è€ƒå¯Ÿ</span></a></h2><p>ä¸€ã€ ç®€å•ä»‹ç»ä¸€ä¸‹ Flink</p><p>Flink æ˜¯ä¸€ä¸ªæ¡†æ¶å’Œåˆ†å¸ƒå¼å¤„ç†å¼•æ“ï¼Œç”¨äºå¯¹æ— ç•Œå’Œæœ‰ç•Œæ•°æ®æµè¿›è¡Œæœ‰çŠ¶æ€è®¡ç®—ã€‚å¹¶ä¸” Flink æä¾›äº†æ•°æ®åˆ†å¸ƒã€å®¹é”™æœºåˆ¶ä»¥åŠèµ„æºç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚</p><p>Flinkæä¾›äº†è¯¸å¤šé«˜æŠ½è±¡å±‚çš„APIä»¥ä¾¿ç”¨æˆ·ç¼–å†™åˆ†å¸ƒå¼ä»»åŠ¡ï¼š</p><ul><li><p>DataSet APIï¼Œ å¯¹é™æ€æ•°æ®è¿›è¡Œæ‰¹å¤„ç†æ“ä½œï¼Œå°†é™æ€æ•°æ®æŠ½è±¡æˆåˆ†å¸ƒå¼çš„æ•°æ®é›†ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨Flinkæä¾›çš„å„ç§æ“ä½œç¬¦å¯¹åˆ†å¸ƒå¼æ•°æ®é›†è¿›è¡Œå¤„ç†ï¼Œæ”¯æŒJavaã€Scalaå’ŒPythonã€‚</p></li><li><p>DataStream APIï¼Œå¯¹æ•°æ®æµè¿›è¡Œæµå¤„ç†æ“ä½œï¼Œå°†æµå¼çš„æ•°æ®æŠ½è±¡æˆåˆ†å¸ƒå¼çš„æ•°æ®æµï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°å¯¹åˆ†å¸ƒå¼æ•°æ®æµè¿›è¡Œå„ç§æ“ä½œï¼Œæ”¯æŒJavaå’ŒScalaã€‚</p></li><li><p>Table APIï¼Œå¯¹ç»“æ„åŒ–æ•°æ®è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œå°†ç»“æ„åŒ–æ•°æ®æŠ½è±¡æˆå…³ç³»è¡¨ï¼Œå¹¶é€šè¿‡ç±»SQLçš„DSLå¯¹å…³ç³»è¡¨è¿›è¡Œå„ç§æŸ¥è¯¢æ“ä½œï¼Œæ”¯æŒJavaå’ŒScalaã€‚</p></li></ul><p>æ­¤å¤–ï¼ŒFlink è¿˜é’ˆå¯¹ç‰¹å®šçš„åº”ç”¨é¢†åŸŸæä¾›äº†é¢†åŸŸåº“ï¼Œä¾‹å¦‚ï¼šFlink MLï¼ŒFlink çš„æœºå™¨å­¦ä¹ åº“ï¼Œæä¾›äº†æœºå™¨å­¦ä¹ Pipelines APIå¹¶å®ç°äº†å¤šç§æœºå™¨å­¦ä¹ ç®—æ³•ã€‚Gellyï¼ŒFlink çš„å›¾è®¡ç®—åº“ï¼Œæä¾›äº†å›¾è®¡ç®—çš„ç›¸å…³APIåŠå¤šç§å›¾è®¡ç®—ç®—æ³•å®ç°ã€‚</p><p>æ ¹æ®å®˜ç½‘çš„ä»‹ç»ï¼ŒFlink çš„ç‰¹æ€§åŒ…å«ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>æ”¯æŒé«˜ååã€ä½å»¶è¿Ÿã€é«˜æ€§èƒ½çš„æµå¤„ç†æ”¯æŒå¸¦æœ‰äº‹ä»¶æ—¶é—´çš„çª—å£ ï¼ˆWindowï¼‰ æ“ä½œæ”¯æŒæœ‰çŠ¶æ€è®¡ç®—çš„ Exactly-once è¯­ä¹‰æ”¯æŒé«˜åº¦çµæ´»çš„çª—å£ ï¼ˆWindowï¼‰ æ“ä½œï¼Œæ”¯æŒåŸºäº timeã€countã€session ä»¥åŠ data-driven çš„çª—å£æ“ä½œæ”¯æŒå…·æœ‰ Backpressure åŠŸèƒ½çš„æŒç»­æµæ¨¡å‹æ”¯æŒåŸºäºè½»é‡çº§åˆ†å¸ƒå¼å¿«ç…§ï¼ˆSnapshotï¼‰å®ç°çš„å®¹é”™ä¸€ä¸ªè¿è¡Œæ—¶åŒæ—¶æ”¯æŒ Batch on Streaming å¤„ç†å’Œ Streaming å¤„ç†Flink åœ¨ JVM å†…éƒ¨å®ç°äº†è‡ªå·±çš„å†…å­˜ç®¡ç†æ”¯æŒè¿­ä»£è®¡ç®—æ”¯æŒç¨‹åºè‡ªåŠ¨ä¼˜åŒ–ï¼šé¿å…ç‰¹å®šæƒ…å†µä¸‹ Shuffleã€æ’åºç­‰æ˜‚è´µæ“ä½œï¼Œä¸­é—´ç»“æœæœ‰å¿…è¦è¿›è¡Œç¼“å­˜</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>äºŒã€ Flink ç›¸æ¯”ä¼ ç»Ÿçš„ Spark Streaming æœ‰ä»€ä¹ˆåŒºåˆ«?</p><p>è¿™ä¸ªé—®é¢˜æ˜¯ä¸€ä¸ªéå¸¸å®è§‚çš„é—®é¢˜ï¼Œå› ä¸ºä¸¤ä¸ªæ¡†æ¶çš„ä¸åŒç‚¹éå¸¸ä¹‹å¤šã€‚ä½†æ˜¯åœ¨é¢è¯•æ—¶æœ‰éå¸¸é‡è¦çš„ä¸€ç‚¹ä¸€å®šè¦å›ç­”å‡ºæ¥ï¼šFlink æ˜¯æ ‡å‡†çš„å®æ—¶å¤„ç†å¼•æ“ï¼ŒåŸºäºäº‹ä»¶é©±åŠ¨ã€‚è€Œ Spark Streaming æ˜¯å¾®æ‰¹ï¼ˆMicro-Batchï¼‰çš„æ¨¡å‹ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±åˆ†å‡ ä¸ªæ–¹é¢ä»‹ç»ä¸¤ä¸ªæ¡†æ¶çš„ä¸»è¦åŒºåˆ«ï¼š</p><p>1. æ¶æ„æ¨¡å‹</p><p>Spark Streaming åœ¨è¿è¡Œæ—¶çš„ä¸»è¦è§’è‰²åŒ…æ‹¬ï¼šMasterã€Workerã€Driverã€Executorï¼ŒFlink åœ¨è¿è¡Œæ—¶ä¸»è¦åŒ…å«ï¼šJobmanagerã€Taskmanagerå’ŒSlotã€‚</p><p>2. ä»»åŠ¡è°ƒåº¦</p><p>Spark Streaming è¿ç»­ä¸æ–­çš„ç”Ÿæˆå¾®å°çš„æ•°æ®æ‰¹æ¬¡ï¼Œæ„å»ºæœ‰å‘æ— ç¯å›¾DAGï¼ŒSpark Streaming ä¼šä¾æ¬¡åˆ›å»º DStreamGraphã€JobGeneratorã€JobSchedulerã€‚</p><p>Flink æ ¹æ®ç”¨æˆ·æäº¤çš„ä»£ç ç”Ÿæˆ StreamGraphï¼Œç»è¿‡ä¼˜åŒ–ç”Ÿæˆ JobGraphï¼Œç„¶åæäº¤ç»™ JobManagerè¿›è¡Œå¤„ç†ï¼ŒJobManager ä¼šæ ¹æ® JobGraph ç”Ÿæˆ ExecutionGraphï¼ŒExecutionGraph æ˜¯ Flink è°ƒåº¦æœ€æ ¸å¿ƒçš„æ•°æ®ç»“æ„ï¼ŒJobManager æ ¹æ® ExecutionGraph å¯¹ Job è¿›è¡Œè°ƒåº¦ã€‚</p><p>3. æ—¶é—´æœºåˆ¶</p><p>Spark Streaming æ”¯æŒçš„æ—¶é—´æœºåˆ¶æœ‰é™ï¼Œåªæ”¯æŒå¤„ç†æ—¶é—´ã€‚Flink æ”¯æŒäº†æµå¤„ç†ç¨‹åºåœ¨æ—¶é—´ä¸Šçš„ä¸‰ä¸ªå®šä¹‰ï¼šå¤„ç†æ—¶é—´ã€äº‹ä»¶æ—¶é—´ã€æ³¨å…¥æ—¶é—´ã€‚åŒæ—¶ä¹Ÿæ”¯æŒÂ watermarkÂ æœºåˆ¶æ¥å¤„ç†æ»åæ•°æ®ã€‚</p><p>4. å®¹é”™æœºåˆ¶</p><p>å¯¹äº Spark Streaming ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½® checkpointï¼Œç„¶åå‡å¦‚å‘ç”Ÿæ•…éšœå¹¶é‡å¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸Šæ¬¡ checkpoint ä¹‹å¤„æ¢å¤ï¼Œä½†æ˜¯è¿™ä¸ªè¡Œä¸ºåªèƒ½ä½¿å¾—æ•°æ®ä¸ä¸¢å¤±ï¼Œå¯èƒ½ä¼šé‡å¤å¤„ç†ï¼Œä¸èƒ½åšåˆ°æ°å¥½ä¸€æ¬¡å¤„ç†è¯­ä¹‰ã€‚</p><p>Flink åˆ™ä½¿ç”¨ä¸¤é˜¶æ®µæäº¤åè®®æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä¸‰ã€ Flink çš„ç»„ä»¶æ ˆæœ‰å“ªäº›ï¼Ÿ</p><p>æ ¹æ® Flink å®˜ç½‘æè¿°ï¼ŒFlink æ˜¯ä¸€ä¸ªåˆ†å±‚æ¶æ„çš„ç³»ç»Ÿï¼Œæ¯ä¸€å±‚æ‰€åŒ…å«çš„ç»„ä»¶éƒ½æä¾›äº†ç‰¹å®šçš„æŠ½è±¡ï¼Œç”¨æ¥æœåŠ¡äºä¸Šå±‚ç»„ä»¶ã€‚</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTWNReWZxN0h6ZnVIV1FCWEF0NlJabjlWejd6cEZoWU5kWnhkNFdrd2ljSmljdFdsQ0JKSGUxSk9RLzY0MA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å›¾ç‰‡æ¥æºäºï¼šhttps://flink.apache.org</p><p>è‡ªä¸‹è€Œä¸Šï¼Œæ¯ä¸€å±‚åˆ†åˆ«ä»£è¡¨ï¼šDeploy å±‚ï¼šè¯¥å±‚ä¸»è¦æ¶‰åŠäº†Flinkçš„éƒ¨ç½²æ¨¡å¼ï¼Œåœ¨ä¸Šå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒFlink æ”¯æŒåŒ…æ‹¬localã€Standaloneã€Clusterã€Cloudç­‰å¤šç§éƒ¨ç½²æ¨¡å¼ã€‚Runtime å±‚ï¼šRuntimeå±‚æä¾›äº†æ”¯æŒ Flink è®¡ç®—çš„æ ¸å¿ƒå®ç°ï¼Œæ¯”å¦‚ï¼šæ”¯æŒåˆ†å¸ƒå¼ Stream å¤„ç†ã€JobGraphåˆ°ExecutionGraphçš„æ˜ å°„ã€è°ƒåº¦ç­‰ç­‰ï¼Œä¸ºä¸Šå±‚APIå±‚æä¾›åŸºç¡€æœåŠ¡ã€‚APIå±‚ï¼šAPI å±‚ä¸»è¦å®ç°äº†é¢å‘æµï¼ˆStreamï¼‰å¤„ç†å’Œæ‰¹ï¼ˆBatchï¼‰å¤„ç†APIï¼Œå…¶ä¸­é¢å‘æµå¤„ç†å¯¹åº”DataStream APIï¼Œé¢å‘æ‰¹å¤„ç†å¯¹åº”DataSet APIï¼Œåç»­ç‰ˆæœ¬ï¼ŒFlinkæœ‰è®¡åˆ’å°†DataStreamå’ŒDataSet APIè¿›è¡Œç»Ÿä¸€ã€‚Librarieså±‚ï¼šè¯¥å±‚ç§°ä¸ºFlinkåº”ç”¨æ¡†æ¶å±‚ï¼Œæ ¹æ®APIå±‚çš„åˆ’åˆ†ï¼Œåœ¨APIå±‚ä¹‹ä¸Šæ„å»ºçš„æ»¡è¶³ç‰¹å®šåº”ç”¨çš„å®ç°è®¡ç®—æ¡†æ¶ï¼Œä¹Ÿåˆ†åˆ«å¯¹åº”äºé¢å‘æµå¤„ç†å’Œé¢å‘æ‰¹å¤„ç†ä¸¤ç±»ã€‚é¢å‘æµå¤„ç†æ”¯æŒï¼šCEPï¼ˆå¤æ‚äº‹ä»¶å¤„ç†ï¼‰ã€åŸºäºSQL-likeçš„æ“ä½œï¼ˆåŸºäºTableçš„å…³ç³»æ“ä½œï¼‰ï¼›é¢å‘æ‰¹å¤„ç†æ”¯æŒï¼šFlinkMLï¼ˆæœºå™¨å­¦ä¹ åº“ï¼‰ã€Gellyï¼ˆå›¾å¤„ç†ï¼‰ã€‚</p><p>å››ã€Flink çš„è¿è¡Œå¿…é¡»ä¾èµ– Hadoopç»„ä»¶å—ï¼Ÿ</p><p>Flinkå¯ä»¥å®Œå…¨ç‹¬ç«‹äºHadoopï¼Œåœ¨ä¸ä¾èµ–Hadoopç»„ä»¶ä¸‹è¿è¡Œã€‚ä½†æ˜¯åšä¸ºå¤§æ•°æ®çš„åŸºç¡€è®¾æ–½ï¼ŒHadoopä½“ç³»æ˜¯ä»»ä½•å¤§æ•°æ®æ¡†æ¶éƒ½ç»•ä¸è¿‡å»çš„ã€‚Flinkå¯ä»¥é›†æˆä¼—å¤šHadooop ç»„ä»¶ï¼Œä¾‹å¦‚Yarnã€Hbaseã€HDFSç­‰ç­‰ã€‚ä¾‹å¦‚ï¼ŒFlinkå¯ä»¥å’ŒYarné›†æˆåšèµ„æºè°ƒåº¦ï¼Œä¹Ÿå¯ä»¥è¯»å†™HDFSï¼Œæˆ–è€…åˆ©ç”¨HDFSåšæ£€æŸ¥ç‚¹ã€‚</p><p>äº”ã€ä½ ä»¬çš„Flinké›†ç¾¤è§„æ¨¡å¤šå¤§ï¼Ÿ</p><p>å¤§å®¶æ³¨æ„ï¼Œè¿™ä¸ªé—®é¢˜çœ‹èµ·æ¥æ˜¯é—®ä½ å®é™…åº”ç”¨ä¸­çš„Flinké›†ç¾¤è§„æ¨¡ï¼Œå…¶å®è¿˜éšè—ç€å¦ä¸€ä¸ªé—®é¢˜ï¼šFlinkå¯ä»¥æ”¯æŒå¤šå°‘èŠ‚ç‚¹çš„é›†ç¾¤è§„æ¨¡ï¼Ÿ</p><p>åœ¨å›ç­”è¿™ä¸ªé—®é¢˜æ—¶å€™ï¼Œå¯ä»¥å°†è‡ªå·±ç”Ÿäº§ç¯èŠ‚ä¸­çš„é›†ç¾¤è§„æ¨¡ã€èŠ‚ç‚¹ã€å†…å­˜æƒ…å†µè¯´æ˜ï¼ŒåŒæ—¶è¯´æ˜éƒ¨ç½²æ¨¡å¼ï¼ˆä¸€èˆ¬æ˜¯Flink on Yarnï¼‰ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥åŒæ—¶åœ¨å°é›†ç¾¤ï¼ˆå°‘äº5ä¸ªèŠ‚ç‚¹ï¼‰å’Œæ‹¥æœ‰ TB çº§åˆ«çŠ¶æ€çš„ä¸Šåƒä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œ Flink ä»»åŠ¡ã€‚</p><p>å…­ã€Flinkçš„åŸºç¡€ç¼–ç¨‹æ¨¡å‹äº†è§£å—ï¼Ÿ</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTVN2OUx6eUZ3aWFoUnhWUzBVNDlpYUg2dkVodk53OEhPbGJLNGliVzc4N3BUaEdNaWN5ZFEyYXR5cEEvNjQw?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸Šå›¾æ˜¯æ¥è‡ªFlinkå®˜ç½‘çš„è¿è¡Œæµç¨‹å›¾ã€‚é€šè¿‡ä¸Šå›¾æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼ŒFlink ç¨‹åºçš„åŸºæœ¬æ„å»ºæ˜¯æ•°æ®è¾“å…¥æ¥è‡ªä¸€ä¸ª Sourceï¼ŒSource ä»£è¡¨æ•°æ®çš„è¾“å…¥ç«¯ï¼Œç»è¿‡ Transformation è¿›è¡Œè½¬æ¢ï¼Œç„¶ååœ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªSinkæ¥æ”¶å™¨ä¸­ç»“æŸã€‚æ•°æ®æµï¼ˆstreamï¼‰å°±æ˜¯ä¸€ç»„æ°¸è¿œä¸ä¼šåœæ­¢çš„æ•°æ®è®°å½•æµï¼Œè€Œè½¬æ¢ï¼ˆtransformationï¼‰æ˜¯å°†ä¸€ä¸ªæˆ–å¤šä¸ªæµä½œä¸ºè¾“å…¥ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºæµçš„æ“ä½œã€‚æ‰§è¡Œæ—¶ï¼ŒFlinkç¨‹åºæ˜ å°„åˆ° streaming dataflowsï¼Œç”±æµï¼ˆstreamsï¼‰å’Œè½¬æ¢æ“ä½œï¼ˆtransformation operatorsï¼‰ç»„æˆã€‚</p><p>ä¸ƒã€Flinké›†ç¾¤æœ‰å“ªäº›è§’è‰²ï¼Ÿå„è‡ªæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTTVkRm5lRlpDQlhPUlJTaWFpY2w0dlBuVlJINTdpYU92Qmpyd0hxOFFpY1haNW9SY1VqcG9hMk00V0EvNjQw?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Flink ç¨‹åºåœ¨è¿è¡Œæ—¶ä¸»è¦æœ‰ TaskManagerï¼ŒJobManagerï¼ŒClientä¸‰ç§è§’è‰²ã€‚å…¶ä¸­JobManageræ‰®æ¼”ç€é›†ç¾¤ä¸­çš„ç®¡ç†è€…Masterçš„è§’è‰²ï¼Œå®ƒæ˜¯æ•´ä¸ªé›†ç¾¤çš„åè°ƒè€…ï¼Œè´Ÿè´£æ¥æ”¶Flink Jobï¼Œåè°ƒæ£€æŸ¥ç‚¹ï¼ŒFailover æ•…éšœæ¢å¤ç­‰ï¼ŒåŒæ—¶ç®¡ç†Flinké›†ç¾¤ä¸­ä»èŠ‚ç‚¹TaskManagerã€‚</p><p>TaskManageræ˜¯å®é™…è´Ÿè´£æ‰§è¡Œè®¡ç®—çš„Workerï¼Œåœ¨å…¶ä¸Šæ‰§è¡ŒFlink Jobçš„ä¸€ç»„Taskï¼Œæ¯ä¸ªTaskManagerè´Ÿè´£ç®¡ç†å…¶æ‰€åœ¨èŠ‚ç‚¹ä¸Šçš„èµ„æºä¿¡æ¯ï¼Œå¦‚å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™å°†èµ„æºçš„çŠ¶æ€å‘JobManageræ±‡æŠ¥ã€‚</p><p>Clientæ˜¯Flinkç¨‹åºæäº¤çš„å®¢æˆ·ç«¯ï¼Œå½“ç”¨æˆ·æäº¤ä¸€ä¸ªFlinkç¨‹åºæ—¶ï¼Œä¼šé¦–å…ˆåˆ›å»ºä¸€ä¸ªClientï¼Œè¯¥Clienté¦–å…ˆä¼šå¯¹ç”¨æˆ·æäº¤çš„Flinkç¨‹åºè¿›è¡Œé¢„å¤„ç†ï¼Œå¹¶æäº¤åˆ°Flinké›†ç¾¤ä¸­å¤„ç†ï¼Œæ‰€ä»¥Clientéœ€è¦ä»ç”¨æˆ·æäº¤çš„Flinkç¨‹åºé…ç½®ä¸­è·å–JobManagerçš„åœ°å€ï¼Œå¹¶å»ºç«‹åˆ°JobManagerçš„è¿æ¥ï¼Œå°†Flink Jobæäº¤ç»™JobManagerã€‚</p><p>å…«ã€è¯´è¯´ Flink èµ„æºç®¡ç†ä¸­ Task Slot çš„æ¦‚å¿µ</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTVBSbEZ5Z0dXdUdvMHJjaWJBZk5PWVNlNE5HVW1sU3FpY3R4OVp1SmlhM0NBTnhpY3VTU2ljcHl6ZEtBLzY0MA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>åœ¨Flinkæ¶æ„è§’è‰²ä¸­æˆ‘ä»¬æåˆ°ï¼ŒTaskManageræ˜¯å®é™…è´Ÿè´£æ‰§è¡Œè®¡ç®—çš„Workerï¼ŒTaskManager æ˜¯ä¸€ä¸ª JVM è¿›ç¨‹ï¼Œå¹¶ä¼šä»¥ç‹¬ç«‹çš„çº¿ç¨‹æ¥æ‰§è¡Œä¸€ä¸ªtaskæˆ–å¤šä¸ªsubtaskã€‚ä¸ºäº†æ§åˆ¶ä¸€ä¸ª TaskManager èƒ½æ¥å—å¤šå°‘ä¸ª taskï¼ŒFlink æå‡ºäº† Task Slot çš„æ¦‚å¿µã€‚</p><p>ç®€å•çš„è¯´ï¼ŒTaskManagerä¼šå°†è‡ªå·±èŠ‚ç‚¹ä¸Šç®¡ç†çš„èµ„æºåˆ†ä¸ºä¸åŒçš„Slotï¼šå›ºå®šå¤§å°çš„èµ„æºå­é›†ã€‚è¿™æ ·å°±é¿å…äº†ä¸åŒJobçš„Taskäº’ç›¸ç«äº‰å†…å­˜èµ„æºï¼Œä½†æ˜¯éœ€è¦ä¸»è¦çš„æ˜¯ï¼ŒSlotåªä¼šåšå†…å­˜çš„éš”ç¦»ã€‚æ²¡æœ‰åšCPUçš„éš”ç¦»ã€‚</p><p>ä¹ã€è¯´è¯´ Flink çš„å¸¸ç”¨ç®—å­ï¼Ÿ</p><p>Flink æœ€å¸¸ç”¨çš„å¸¸ç”¨ç®—å­åŒ…æ‹¬ï¼šMapï¼šDataStream â†’ DataStreamï¼Œè¾“å…¥ä¸€ä¸ªå‚æ•°äº§ç”Ÿä¸€ä¸ªå‚æ•°ï¼Œmapçš„åŠŸèƒ½æ˜¯å¯¹è¾“å…¥çš„å‚æ•°è¿›è¡Œè½¬æ¢æ“ä½œã€‚Filterï¼šè¿‡æ»¤æ‰æŒ‡å®šæ¡ä»¶çš„æ•°æ®ã€‚KeyByï¼šæŒ‰ç…§æŒ‡å®šçš„keyè¿›è¡Œåˆ†ç»„ã€‚Reduceï¼šç”¨æ¥è¿›è¡Œç»“æœæ±‡æ€»åˆå¹¶ã€‚Windowï¼šçª—å£å‡½æ•°ï¼Œæ ¹æ®æŸäº›ç‰¹æ€§å°†æ¯ä¸ªkeyçš„æ•°æ®è¿›è¡Œåˆ†ç»„ï¼ˆä¾‹å¦‚ï¼šåœ¨5så†…åˆ°è¾¾çš„æ•°æ®ï¼‰</p><p>åã€è¯´è¯´ä½ çŸ¥é“çš„Flinkåˆ†åŒºç­–ç•¥ï¼Ÿ</p><p>ä»€ä¹ˆè¦ææ‡‚ä»€ä¹ˆæ˜¯åˆ†åŒºç­–ç•¥ã€‚åˆ†åŒºç­–ç•¥æ˜¯ç”¨æ¥å†³å®šæ•°æ®å¦‚ä½•å‘é€è‡³ä¸‹æ¸¸ã€‚ç›®å‰ Flink æ”¯æŒäº†8ä¸­åˆ†åŒºç­–ç•¥çš„å®ç°ã€‚</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTTVYUkgyeXB4QUFHa3d0MWlhSktlbHBZVkM5anEyc01HYUZGaWFNSDBYODdLWmNiNkgzcWtYQlpBLzY0MA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸Šå›¾æ˜¯æ•´ä¸ªFlinkå®ç°çš„åˆ†åŒºç­–ç•¥ç»§æ‰¿å›¾ï¼š</p><p>GlobalPartitionerÂ æ•°æ®ä¼šè¢«åˆ†å‘åˆ°ä¸‹æ¸¸ç®—å­çš„ç¬¬ä¸€ä¸ªå®ä¾‹ä¸­è¿›è¡Œå¤„ç†ã€‚</p><p>ShufflePartitionerÂ æ•°æ®ä¼šè¢«éšæœºåˆ†å‘åˆ°ä¸‹æ¸¸ç®—å­çš„æ¯ä¸€ä¸ªå®ä¾‹ä¸­è¿›è¡Œå¤„ç†ã€‚</p><p>RebalancePartitionerÂ æ•°æ®ä¼šè¢«å¾ªç¯å‘é€åˆ°ä¸‹æ¸¸çš„æ¯ä¸€ä¸ªå®ä¾‹ä¸­è¿›è¡Œå¤„ç†ã€‚</p><p>RescalePartitionerÂ è¿™ç§åˆ†åŒºå™¨ä¼šæ ¹æ®ä¸Šä¸‹æ¸¸ç®—å­çš„å¹¶è¡Œåº¦ï¼Œå¾ªç¯çš„æ–¹å¼è¾“å‡ºåˆ°ä¸‹æ¸¸ç®—å­çš„æ¯ä¸ªå®ä¾‹ã€‚è¿™é‡Œæœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œå‡è®¾ä¸Šæ¸¸å¹¶è¡Œåº¦ä¸º2ï¼Œç¼–å·ä¸ºAå’ŒBã€‚ä¸‹æ¸¸å¹¶è¡Œåº¦ä¸º4ï¼Œç¼–å·ä¸º1ï¼Œ2ï¼Œ3ï¼Œ4ã€‚é‚£ä¹ˆAåˆ™æŠŠæ•°æ®å¾ªç¯å‘é€ç»™1å’Œ2ï¼ŒBåˆ™æŠŠæ•°æ®å¾ªç¯å‘é€ç»™3å’Œ4ã€‚å‡è®¾ä¸Šæ¸¸å¹¶è¡Œåº¦ä¸º4ï¼Œç¼–å·ä¸ºAï¼ŒBï¼ŒCï¼ŒDã€‚ä¸‹æ¸¸å¹¶è¡Œåº¦ä¸º2ï¼Œç¼–å·ä¸º1ï¼Œ2ã€‚é‚£ä¹ˆAå’ŒBåˆ™æŠŠæ•°æ®å‘é€ç»™1ï¼ŒCå’ŒDåˆ™æŠŠæ•°æ®å‘é€ç»™2ã€‚</p><p>BroadcastPartitionerÂ å¹¿æ’­åˆ†åŒºä¼šå°†ä¸Šæ¸¸æ•°æ®è¾“å‡ºåˆ°ä¸‹æ¸¸ç®—å­çš„æ¯ä¸ªå®ä¾‹ä¸­ã€‚é€‚åˆäºå¤§æ•°æ®é›†å’Œå°æ•°æ®é›†åšJionçš„åœºæ™¯ã€‚</p><p>ForwardPartitionerÂ ForwardPartitioner ç”¨äºå°†è®°å½•è¾“å‡ºåˆ°ä¸‹æ¸¸æœ¬åœ°çš„ç®—å­å®ä¾‹ã€‚å®ƒè¦æ±‚ä¸Šä¸‹æ¸¸ç®—å­å¹¶è¡Œåº¦ä¸€æ ·ã€‚ç®€å•çš„è¯´ï¼ŒForwardPartitionerç”¨æ¥åšæ•°æ®çš„æ§åˆ¶å°æ‰“å°ã€‚</p><p>KeyGroupStreamPartitionerÂ Hashåˆ†åŒºå™¨ã€‚ä¼šå°†æ•°æ®æŒ‰ Key çš„ Hash å€¼è¾“å‡ºåˆ°ä¸‹æ¸¸ç®—å­å®ä¾‹ä¸­ã€‚</p><p>CustomPartitionerWrapperÂ ç”¨æˆ·è‡ªå®šä¹‰åˆ†åŒºå™¨ã€‚éœ€è¦ç”¨æˆ·è‡ªå·±å®ç°Partitioneræ¥å£ï¼Œæ¥å®šä¹‰è‡ªå·±çš„åˆ†åŒºé€»è¾‘ã€‚ä¾‹å¦‚ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>static classCustomPartitionerimplementsPartitioner&lt;String&gt; {      @Override      publicintpartition(String key, int numPartitions) {switch (key){case &quot;1&quot;:return 1;case &quot;2&quot;:return 2;case &quot;3&quot;:return 3;default:return 4;          }      }  }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åä¸€ã€Flinkçš„å¹¶è¡Œåº¦äº†è§£å—ï¼ŸFlinkçš„å¹¶è¡Œåº¦è®¾ç½®æ˜¯æ€æ ·çš„ï¼Ÿ</p><p>Flinkä¸­çš„ä»»åŠ¡è¢«åˆ†ä¸ºå¤šä¸ªå¹¶è¡Œä»»åŠ¡æ¥æ‰§è¡Œï¼Œå…¶ä¸­æ¯ä¸ªå¹¶è¡Œçš„å®ä¾‹å¤„ç†ä¸€éƒ¨åˆ†æ•°æ®ã€‚è¿™äº›å¹¶è¡Œå®ä¾‹çš„æ•°é‡è¢«ç§°ä¸ºå¹¶è¡Œåº¦ã€‚</p><p>æˆ‘ä»¬åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­å¯ä»¥ä»å››ä¸ªä¸åŒå±‚é¢è®¾ç½®å¹¶è¡Œåº¦ï¼š</p><ul><li><p>æ“ä½œç®—å­å±‚é¢(Operator Level)</p></li><li><p>æ‰§è¡Œç¯å¢ƒå±‚é¢(Execution Environment Level)</p></li><li><p>å®¢æˆ·ç«¯å±‚é¢(Client Level)</p></li><li><p>ç³»ç»Ÿå±‚é¢(System Level)</p></li></ul><p>éœ€è¦æ³¨æ„çš„ä¼˜å…ˆçº§ï¼šç®—å­å±‚é¢&gt;ç¯å¢ƒå±‚é¢&gt;å®¢æˆ·ç«¯å±‚é¢&gt;ç³»ç»Ÿå±‚é¢ã€‚</p><p>åäºŒã€Flinkçš„Slotå’Œparallelismæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p><p>å®˜ç½‘ä¸Šååˆ†ç»å…¸çš„å›¾ï¼š</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTVZnU0hMTWE4cEdLY3BkTExRcHlYbHdRRlowQ1g0Y2ZzSFV1dE9OdDJEc3F5VGRMcm42YUw5US82NDA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>slotæ˜¯æŒ‡taskmanagerçš„å¹¶å‘æ‰§è¡Œèƒ½åŠ›ï¼Œå‡è®¾æˆ‘ä»¬å°† taskmanager.numberOfTaskSlots é…ç½®ä¸º3 é‚£ä¹ˆæ¯ä¸€ä¸ª taskmanager ä¸­åˆ†é…3ä¸ª TaskSlot, 3ä¸ª taskmanager ä¸€å…±æœ‰9ä¸ªTaskSlotã€‚</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTVZocWpkcExTSlRpYTVxUXA4ZHpBYjVLWlRCTUttTEtDbkpmdWliTmthaWNNSnFZVGVIcXJiMU5ldy82NDA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>parallelismæ˜¯æŒ‡taskmanagerå®é™…ä½¿ç”¨çš„å¹¶å‘èƒ½åŠ›ã€‚å‡è®¾æˆ‘ä»¬æŠŠ parallelism.default è®¾ç½®ä¸º1ï¼Œé‚£ä¹ˆ9ä¸ª TaskSlot åªèƒ½ç”¨1ä¸ªï¼Œæœ‰8ä¸ªç©ºé—²ã€‚</p><p>åä¸‰ã€Flinkæœ‰æ²¡æœ‰é‡å¯ç­–ç•¥ï¼Ÿè¯´è¯´æœ‰å“ªå‡ ç§ï¼Ÿ</p><p>Flink å®ç°äº†å¤šç§é‡å¯ç­–ç•¥ã€‚</p><ul><li><p>å›ºå®šå»¶è¿Ÿé‡å¯ç­–ç•¥ï¼ˆFixed Delay Restart Strategyï¼‰</p></li><li><p>æ•…éšœç‡é‡å¯ç­–ç•¥ï¼ˆFailure Rate Restart Strategyï¼‰</p></li><li><p>æ²¡æœ‰é‡å¯ç­–ç•¥ï¼ˆNo Restart Strategyï¼‰</p></li><li><p>Fallbacké‡å¯ç­–ç•¥ï¼ˆFallback Restart Strategyï¼‰</p></li></ul><p>åå››ã€ç”¨è¿‡Flinkä¸­çš„åˆ†å¸ƒå¼ç¼“å­˜å—ï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿ</p><p>Flinkå®ç°çš„åˆ†å¸ƒå¼ç¼“å­˜å’ŒHadoopæœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ã€‚ç›®çš„æ˜¯åœ¨æœ¬åœ°è¯»å–æ–‡ä»¶ï¼Œå¹¶æŠŠä»–æ”¾åœ¨ taskmanager èŠ‚ç‚¹ä¸­ï¼Œé˜²æ­¢taské‡å¤æ‹‰å–ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>val env = ExecutionEnvironment.getExecutionEnvironmentenv.registerCachedFile(&quot;hdfs:///path/to/your/file&quot;, &quot;hdfsFile&quot;)env.registerCachedFile(&quot;file:///path/to/exec/file&quot;, &quot;localExecFile&quot;, true)...val input: DataSet[String] = ...val result: DataSet[Integer] = input.map(new MyMapper())...env.execute()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åäº”ã€è¯´è¯´Flinkä¸­çš„å¹¿æ’­å˜é‡ï¼Œä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“Flinkæ˜¯å¹¶è¡Œçš„ï¼Œè®¡ç®—è¿‡ç¨‹å¯èƒ½ä¸åœ¨ä¸€ä¸ª Slot ä¸­è¿›è¡Œï¼Œé‚£ä¹ˆæœ‰ä¸€ç§æƒ…å†µå³ï¼šå½“æˆ‘ä»¬éœ€è¦è®¿é—®åŒä¸€ä»½æ•°æ®ã€‚é‚£ä¹ˆFlinkä¸­çš„å¹¿æ’­å˜é‡å°±æ˜¯ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠå¹¿æ’­å˜é‡ç†è§£ä¸ºæ˜¯ä¸€ä¸ªå…¬å…±çš„å…±äº«å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªdataset æ•°æ®é›†å¹¿æ’­å‡ºå»ï¼Œç„¶åä¸åŒçš„taskåœ¨èŠ‚ç‚¹ä¸Šéƒ½èƒ½å¤Ÿè·å–åˆ°ï¼Œè¿™ä¸ªæ•°æ®åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šåªä¼šå­˜åœ¨ä¸€ä»½ã€‚</p><p>åå…­ã€è¯´è¯´Flinkä¸­çš„çª—å£ï¼Ÿ</p><p>æ¥ä¸€å¼ å®˜ç½‘ç»å…¸çš„å›¾ï¼š</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTXlKVlJKUGlhWEJPZTlWclBSWllxU0tuYjdFb1BrRlo2bGpCNVpKZjdJNHY1QTZUdmVXTkREd0EvNjQw?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Flink æ”¯æŒä¸¤ç§åˆ’åˆ†çª—å£çš„æ–¹å¼ï¼ŒæŒ‰ç…§timeå’Œcountã€‚å¦‚æœæ ¹æ®æ—¶é—´åˆ’åˆ†çª—å£ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªtime-window å¦‚æœæ ¹æ®æ•°æ®åˆ’åˆ†çª—å£ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªcount-windowã€‚</p><p>flinkæ”¯æŒçª—å£çš„ä¸¤ä¸ªé‡è¦å±æ€§ï¼ˆsizeå’Œintervalï¼‰</p><p>å¦‚æœsize=interval,é‚£ä¹ˆå°±ä¼šå½¢æˆtumbling-window(æ— é‡å æ•°æ®) å¦‚æœsize&gt;interval,é‚£ä¹ˆå°±ä¼šå½¢æˆsliding-window(æœ‰é‡å æ•°æ®) å¦‚æœsize&lt; interval, é‚£ä¹ˆè¿™ç§çª—å£å°†ä¼šä¸¢å¤±æ•°æ®ã€‚æ¯”å¦‚æ¯5ç§’é’Ÿï¼Œç»Ÿè®¡è¿‡å»3ç§’çš„é€šè¿‡è·¯å£æ±½è½¦çš„æ•°æ®ï¼Œå°†ä¼šæ¼æ‰2ç§’é’Ÿçš„æ•°æ®ã€‚</p><p>é€šè¿‡ç»„åˆå¯ä»¥å¾—å‡ºå››ç§åŸºæœ¬çª—å£ï¼š</p><ul><li><p>time-tumbling-window æ— é‡å æ•°æ®çš„æ—¶é—´çª—å£ï¼Œè®¾ç½®æ–¹å¼ä¸¾ä¾‹ï¼štimeWindow(Time.seconds(5))</p></li><li><p>time-sliding-window æœ‰é‡å æ•°æ®çš„æ—¶é—´çª—å£ï¼Œè®¾ç½®æ–¹å¼ä¸¾ä¾‹ï¼štimeWindow(Time.seconds(5), Time.seconds(3))</p></li><li><p>count-tumbling-windowæ— é‡å æ•°æ®çš„æ•°é‡çª—å£ï¼Œè®¾ç½®æ–¹å¼ä¸¾ä¾‹ï¼šcountWindow(5)</p></li><li><p>count-sliding-window æœ‰é‡å æ•°æ®çš„æ•°é‡çª—å£ï¼Œè®¾ç½®æ–¹å¼ä¸¾ä¾‹ï¼šcountWindow(5,3)</p></li></ul><p>åä¸ƒã€è¯´è¯´Flinkä¸­çš„çŠ¶æ€å­˜å‚¨ï¼Ÿ</p><p>Flinkåœ¨åšè®¡ç®—çš„è¿‡ç¨‹ä¸­ç»å¸¸éœ€è¦å­˜å‚¨ä¸­é—´çŠ¶æ€ï¼Œæ¥é¿å…æ•°æ®ä¸¢å¤±å’ŒçŠ¶æ€æ¢å¤ã€‚é€‰æ‹©çš„çŠ¶æ€å­˜å‚¨ç­–ç•¥ä¸åŒï¼Œä¼šå½±å“çŠ¶æ€æŒä¹…åŒ–å¦‚ä½•å’Œ checkpoint äº¤äº’ã€‚</p><p>Flinkæä¾›äº†ä¸‰ç§çŠ¶æ€å­˜å‚¨æ–¹å¼ï¼šMemoryStateBackendã€FsStateBackendã€RocksDBStateBackendã€‚</p><p>åå…«ã€Flink ä¸­çš„æ—¶é—´æœ‰å“ªå‡ ç±»</p><p>Flink ä¸­çš„æ—¶é—´å’Œå…¶ä»–æµå¼è®¡ç®—ç³»ç»Ÿçš„æ—¶é—´ä¸€æ ·åˆ†ä¸ºä¸‰ç±»ï¼šäº‹ä»¶æ—¶é—´ï¼Œæ‘„å…¥æ—¶é—´ï¼Œå¤„ç†æ—¶é—´ä¸‰ç§ã€‚</p><p>å¦‚æœä»¥ EventTime ä¸ºåŸºå‡†æ¥å®šä¹‰æ—¶é—´çª—å£å°†å½¢æˆEventTimeWindow,è¦æ±‚æ¶ˆæ¯æœ¬èº«å°±åº”è¯¥æºå¸¦EventTimeã€‚å¦‚æœä»¥ IngesingtTime ä¸ºåŸºå‡†æ¥å®šä¹‰æ—¶é—´çª—å£å°†å½¢æˆ IngestingTimeWindow,ä»¥ source çš„systemTimeä¸ºå‡†ã€‚å¦‚æœä»¥ ProcessingTime åŸºå‡†æ¥å®šä¹‰æ—¶é—´çª—å£å°†å½¢æˆ ProcessingTimeWindowï¼Œä»¥ operator çš„systemTime ä¸ºå‡†ã€‚</p><p>åä¹ã€Flink ä¸­æ°´å°æ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Œèµ·åˆ°ä»€ä¹ˆä½œç”¨ï¼Ÿ</p><p>Watermark æ˜¯ Apache Flink ä¸ºäº†å¤„ç† EventTime çª—å£è®¡ç®—æå‡ºçš„ä¸€ç§æœºåˆ¶, æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æ—¶é—´æˆ³ã€‚ä¸€èˆ¬æ¥è®²Watermarkç»å¸¸å’ŒWindowä¸€èµ·è¢«ç”¨æ¥å¤„ç†ä¹±åºäº‹ä»¶ã€‚</p><p>äºŒåã€Flink Table &amp; SQL ç†Ÿæ‚‰å—ï¼ŸTableEnvironmentè¿™ä¸ªç±»æœ‰ä»€ä¹ˆä½œç”¨</p><p>TableEnvironmentæ˜¯Table APIå’ŒSQLé›†æˆçš„æ ¸å¿ƒæ¦‚å¿µã€‚</p><p>è¿™ä¸ªç±»ä¸»è¦ç”¨æ¥ï¼š</p><ul><li><p>åœ¨å†…éƒ¨catalogä¸­æ³¨å†Œè¡¨</p></li><li><p>æ³¨å†Œå¤–éƒ¨catalog</p></li><li><p>æ‰§è¡ŒSQLæŸ¥è¯¢</p></li><li><p>æ³¨å†Œç”¨æˆ·å®šä¹‰ï¼ˆæ ‡é‡ï¼Œè¡¨æˆ–èšåˆï¼‰å‡½æ•°</p></li><li><p>å°†DataStreamæˆ–DataSetè½¬æ¢ä¸ºè¡¨</p></li><li><p>æŒæœ‰å¯¹ExecutionEnvironmentæˆ–StreamExecutionEnvironmentçš„å¼•ç”¨</p></li></ul><p>äºŒåã€Flink SQLçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯å¦‚ä½•å®ç° SQL è§£æçš„å‘¢ï¼Ÿ</p><p>é¦–å…ˆå¤§å®¶è¦çŸ¥é“ Flink çš„SQLè§£ææ˜¯åŸºäºApache Calciteè¿™ä¸ªå¼€æºæ¡†æ¶ã€‚</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTUZFVTZ6eFFDVmIxQWpQQzJhT1BoOW53TFFocXZBbnRYRkE1ZUt1WlZaaWJKQmliZWZOQ1JqaWF2dy82NDA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>åŸºäºæ­¤ï¼Œä¸€æ¬¡å®Œæ•´çš„SQLè§£æè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li><p>ç”¨æˆ·ä½¿ç”¨å¯¹å¤–æä¾›Stream SQLçš„è¯­æ³•å¼€å‘ä¸šåŠ¡åº”ç”¨</p></li><li><p>ç”¨calciteå¯¹StreamSQLè¿›è¡Œè¯­æ³•æ£€éªŒï¼Œè¯­æ³•æ£€éªŒé€šè¿‡åï¼Œè½¬æ¢æˆcalciteçš„é€»è¾‘æ ‘èŠ‚ç‚¹ï¼›æœ€ç»ˆå½¢æˆcalciteçš„é€»è¾‘è®¡åˆ’</p></li><li><p>é‡‡ç”¨Flinkè‡ªå®šä¹‰çš„ä¼˜åŒ–è§„åˆ™å’Œcalciteç«å±±æ¨¡å‹ã€å¯å‘å¼æ¨¡å‹å…±åŒå¯¹é€»è¾‘æ ‘è¿›è¡Œä¼˜åŒ–ï¼Œç”Ÿæˆæœ€ä¼˜çš„Flinkç‰©ç†è®¡åˆ’</p></li><li><p>å¯¹ç‰©ç†è®¡åˆ’é‡‡ç”¨janino codegenç”Ÿæˆä»£ç ï¼Œç”Ÿæˆç”¨ä½é˜¶API DataStream æè¿°çš„æµåº”ç”¨ï¼Œæäº¤åˆ°Flinkå¹³å°æ‰§è¡Œ</p></li></ul><h2 id="ç¬¬äºŒéƒ¨åˆ†-flink-é¢è¯•è¿›é˜¶ç¯‡" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒéƒ¨åˆ†-flink-é¢è¯•è¿›é˜¶ç¯‡"><span>ç¬¬äºŒéƒ¨åˆ†ï¼šFlink é¢è¯•è¿›é˜¶ç¯‡</span></a></h2><p>ä¸€ã€Flinkæ˜¯å¦‚ä½•æ”¯æŒæ‰¹æµä¸€ä½“çš„ï¼Ÿ</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTXlBb0VCZFFqQUZMUElkT3pJbWliS0RTNTIxaWFrYlQ1bm9rVG0xZXR4T3cwWkxvZUFFMGQ1cFJnLzY0MA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æœ¬é“é¢è¯•é¢˜è€ƒå¯Ÿçš„å…¶å®å°±æ˜¯ä¸€å¥è¯ï¼šFlinkçš„å¼€å‘è€…è®¤ä¸ºæ‰¹å¤„ç†æ˜¯æµå¤„ç†çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚æ‰¹å¤„ç†æ˜¯æœ‰é™çš„æµå¤„ç†ã€‚Flink ä½¿ç”¨ä¸€ä¸ªå¼•æ“æ”¯æŒäº†DataSet API å’Œ DataStream APIã€‚</p><p>äºŒã€Flinkæ˜¯å¦‚ä½•åšåˆ°é«˜æ•ˆçš„æ•°æ®äº¤æ¢çš„ï¼Ÿ</p><p>åœ¨ä¸€ä¸ªFlink Jobä¸­ï¼Œæ•°æ®éœ€è¦åœ¨ä¸åŒçš„taskä¸­è¿›è¡Œäº¤æ¢ï¼Œæ•´ä¸ªæ•°æ®äº¤æ¢æ˜¯æœ‰ TaskManager è´Ÿè´£çš„ï¼ŒTaskManager çš„ç½‘ç»œç»„ä»¶é¦–å…ˆä»ç¼“å†²bufferä¸­æ”¶é›†recordsï¼Œç„¶åå†å‘é€ã€‚Records å¹¶ä¸æ˜¯ä¸€ä¸ªä¸€ä¸ªè¢«å‘é€çš„ï¼ŒäºŒæ˜¯ç§¯ç´¯ä¸€ä¸ªæ‰¹æ¬¡å†å‘é€ï¼Œbatch æŠ€æœ¯å¯ä»¥æ›´åŠ é«˜æ•ˆçš„åˆ©ç”¨ç½‘ç»œèµ„æºã€‚</p><p>ä¸‰ã€Flinkæ˜¯å¦‚ä½•åšå®¹é”™çš„ï¼Ÿ</p><p>Flink å®ç°å®¹é”™ä¸»è¦é å¼ºå¤§çš„CheckPointæœºåˆ¶å’ŒStateæœºåˆ¶ã€‚Checkpoint è´Ÿè´£å®šæ—¶åˆ¶ä½œåˆ†å¸ƒå¼å¿«ç…§ã€å¯¹ç¨‹åºä¸­çš„çŠ¶æ€è¿›è¡Œå¤‡ä»½ï¼›State ç”¨æ¥å­˜å‚¨è®¡ç®—è¿‡ç¨‹ä¸­çš„ä¸­é—´çŠ¶æ€ã€‚</p><p>å››ã€Flink åˆ†å¸ƒå¼å¿«ç…§çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>Flinkçš„åˆ†å¸ƒå¼å¿«ç…§æ˜¯æ ¹æ®Chandy-Lamportç®—æ³•é‡èº«å®šåšçš„ã€‚ç®€å•æ¥è¯´å°±æ˜¯æŒç»­åˆ›å»ºåˆ†å¸ƒå¼æ•°æ®æµåŠå…¶çŠ¶æ€çš„ä¸€è‡´å¿«ç…§ã€‚</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTURsSHVGakdKMlRKUk1TS2FtY2lhcUVQRGtWcXUxbTM5a281NkNuVTNERXFpYmxYRGt6dUJueDZ3LzY0MA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨ input source ç«¯æ’å…¥ barrierï¼Œæ§åˆ¶ barrier çš„åŒæ­¥æ¥å®ç° snapshot çš„å¤‡ä»½å’Œ exactly-once è¯­ä¹‰ã€‚</p><p>äº”ã€Flink æ˜¯å¦‚ä½•ä¿è¯Exactly-onceè¯­ä¹‰çš„ï¼Ÿ</p><p>Flinké€šè¿‡å®ç°ä¸¤é˜¶æ®µæäº¤å’ŒçŠ¶æ€ä¿å­˜æ¥å®ç°ç«¯åˆ°ç«¯çš„ä¸€è‡´æ€§è¯­ä¹‰ã€‚åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ul><li><p>å¼€å§‹äº‹åŠ¡ï¼ˆbeginTransactionï¼‰åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¤¹ï¼Œæ¥å†™æŠŠæ•°æ®å†™å…¥åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢</p></li><li><p>é¢„æäº¤ï¼ˆpreCommitï¼‰å°†å†…å­˜ä¸­ç¼“å­˜çš„æ•°æ®å†™å…¥æ–‡ä»¶å¹¶å…³é—­</p></li><li><p>æ­£å¼æäº¤ï¼ˆcommitï¼‰å°†ä¹‹å‰å†™å®Œçš„ä¸´æ—¶æ–‡ä»¶æ”¾å…¥ç›®æ ‡ç›®å½•ä¸‹ã€‚è¿™ä»£è¡¨ç€æœ€ç»ˆçš„æ•°æ®ä¼šæœ‰ä¸€äº›å»¶è¿Ÿ</p></li><li><p>ä¸¢å¼ƒï¼ˆabortï¼‰ä¸¢å¼ƒä¸´æ—¶æ–‡ä»¶</p></li></ul><p>è‹¥å¤±è´¥å‘ç”Ÿåœ¨é¢„æäº¤æˆåŠŸåï¼Œæ­£å¼æäº¤å‰ã€‚å¯ä»¥æ ¹æ®çŠ¶æ€æ¥æäº¤é¢„æäº¤çš„æ•°æ®ï¼Œä¹Ÿå¯åˆ é™¤é¢„æäº¤çš„æ•°æ®ã€‚</p><p>å…­ã€Flink çš„ kafka è¿æ¥å™¨æœ‰ä»€ä¹ˆç‰¹åˆ«çš„åœ°æ–¹ï¼Ÿ</p><p>Flinkæºç ä¸­æœ‰ä¸€ä¸ªç‹¬ç«‹çš„connectoræ¨¡å—ï¼Œæ‰€æœ‰çš„å…¶ä»–connectoréƒ½ä¾èµ–äºæ­¤æ¨¡å—ï¼ŒFlink åœ¨1.9ç‰ˆæœ¬å‘å¸ƒçš„å…¨æ–°kafkaè¿æ¥å™¨ï¼Œæ‘’å¼ƒäº†ä¹‹å‰è¿æ¥ä¸åŒç‰ˆæœ¬çš„kafkaé›†ç¾¤éœ€è¦ä¾èµ–ä¸åŒç‰ˆæœ¬çš„connectorè¿™ç§åšæ³•ï¼Œåªéœ€è¦ä¾èµ–ä¸€ä¸ªconnectorå³å¯ã€‚</p><p>ä¸ƒã€è¯´è¯´ Flinkçš„å†…å­˜ç®¡ç†æ˜¯å¦‚ä½•åšçš„?</p><p>Flink å¹¶ä¸æ˜¯å°†å¤§é‡å¯¹è±¡å­˜åœ¨å †ä¸Šï¼Œè€Œæ˜¯å°†å¯¹è±¡éƒ½åºåˆ—åŒ–åˆ°ä¸€ä¸ªé¢„åˆ†é…çš„å†…å­˜å—ä¸Šã€‚æ­¤å¤–ï¼ŒFlinkå¤§é‡çš„ä½¿ç”¨äº†å †å¤–å†…å­˜ã€‚å¦‚æœéœ€è¦å¤„ç†çš„æ•°æ®è¶…å‡ºäº†å†…å­˜é™åˆ¶ï¼Œåˆ™ä¼šå°†éƒ¨åˆ†æ•°æ®å­˜å‚¨åˆ°ç¡¬ç›˜ä¸Šã€‚Flink ä¸ºäº†ç›´æ¥æ“ä½œäºŒè¿›åˆ¶æ•°æ®å®ç°äº†è‡ªå·±çš„åºåˆ—åŒ–æ¡†æ¶ã€‚</p><p>ç†è®ºä¸ŠFlinkçš„å†…å­˜ç®¡ç†åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š</p><ul><li><p>Network Buffersï¼šè¿™ä¸ªæ˜¯åœ¨TaskManagerå¯åŠ¨çš„æ—¶å€™åˆ†é…çš„ï¼Œè¿™æ˜¯ä¸€ç»„ç”¨äºç¼“å­˜ç½‘ç»œæ•°æ®çš„å†…å­˜ï¼Œæ¯ä¸ªå—æ˜¯32Kï¼Œé»˜è®¤åˆ†é…2048ä¸ªï¼Œå¯ä»¥é€šè¿‡â€œtaskmanager.network.numberOfBuffersâ€ä¿®æ”¹</p></li><li><p>Memory Manage poolï¼šå¤§é‡çš„Memory Segmentå—ï¼Œç”¨äºè¿è¡Œæ—¶çš„ç®—æ³•ï¼ˆSort/Join/Shuffleç­‰ï¼‰ï¼Œè¿™éƒ¨åˆ†å¯åŠ¨çš„æ—¶å€™å°±ä¼šåˆ†é…ã€‚ä¸‹é¢è¿™æ®µä»£ç ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„å„ç§å‚æ•°æ¥è®¡ç®—å†…å­˜çš„åˆ†é…æ–¹æ³•ã€‚ï¼ˆheap or off-heapï¼Œè¿™ä¸ªæ”¾åˆ°ä¸‹èŠ‚è°ˆï¼‰ï¼Œå†…å­˜çš„åˆ†é…æ”¯æŒé¢„åˆ†é…å’Œlazy loadï¼Œé»˜è®¤æ‡’åŠ è½½çš„æ–¹å¼ã€‚</p></li><li><p>User Codeï¼Œè¿™éƒ¨åˆ†æ˜¯é™¤äº†Memory Managerä¹‹å¤–çš„å†…å­˜ç”¨äºUser codeå’ŒTaskManageræœ¬èº«çš„æ•°æ®ç»“æ„ã€‚</p></li></ul><p>å…«ã€è¯´è¯´ Flinkçš„åºåˆ—åŒ–å¦‚ä½•åšçš„?</p><p>Javaæœ¬èº«è‡ªå¸¦çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„åŠŸèƒ½ï¼Œä½†æ˜¯è¾…åŠ©ä¿¡æ¯å ç”¨ç©ºé—´æ¯”è¾ƒå¤§ï¼Œåœ¨åºåˆ—åŒ–å¯¹è±¡æ—¶è®°å½•äº†è¿‡å¤šçš„ç±»ä¿¡æ¯ã€‚</p><p>Apache Flinkæ‘’å¼ƒäº†JavaåŸç”Ÿçš„åºåˆ—åŒ–æ–¹æ³•ï¼Œä»¥ç‹¬ç‰¹çš„æ–¹å¼å¤„ç†æ•°æ®ç±»å‹å’Œåºåˆ—åŒ–ï¼ŒåŒ…å«è‡ªå·±çš„ç±»å‹æè¿°ç¬¦ï¼Œæ³›å‹ç±»å‹æå–å’Œç±»å‹åºåˆ—åŒ–æ¡†æ¶ã€‚</p><p>TypeInformation æ˜¯æ‰€æœ‰ç±»å‹æè¿°ç¬¦çš„åŸºç±»ã€‚å®ƒæ­ç¤ºäº†è¯¥ç±»å‹çš„ä¸€äº›åŸºæœ¬å±æ€§ï¼Œå¹¶ä¸”å¯ä»¥ç”Ÿæˆåºåˆ—åŒ–å™¨ã€‚TypeInformation æ”¯æŒä»¥ä¸‹å‡ ç§ç±»å‹ï¼š</p><ul><li><p>BasicTypeInfo: ä»»æ„Java åŸºæœ¬ç±»å‹æˆ– String ç±»å‹</p></li><li><p>BasicArrayTypeInfo: ä»»æ„JavaåŸºæœ¬ç±»å‹æ•°ç»„æˆ– String æ•°ç»„</p></li><li><p>WritableTypeInfo: ä»»æ„ Hadoop Writable æ¥å£çš„å®ç°ç±»</p></li><li><p>TupleTypeInfo: ä»»æ„çš„ Flink Tuple ç±»å‹(æ”¯æŒTuple1 to Tuple25)ã€‚Flink tuples æ˜¯å›ºå®šé•¿åº¦å›ºå®šç±»å‹çš„Java Tupleå®ç°</p></li><li><p>CaseClassTypeInfo: ä»»æ„çš„ Scala CaseClass(åŒ…æ‹¬ Scala tuples)</p></li><li><p>PojoTypeInfo: ä»»æ„çš„ POJO (Java or Scala)ï¼Œä¾‹å¦‚ï¼ŒJavaå¯¹è±¡çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼Œè¦ä¹ˆæ˜¯ public ä¿®é¥°ç¬¦å®šä¹‰ï¼Œè¦ä¹ˆæœ‰ getter/setter æ–¹æ³•</p></li><li><p>GenericTypeInfo: ä»»æ„æ— æ³•åŒ¹é…ä¹‹å‰å‡ ç§ç±»å‹çš„ç±»</p></li></ul><p>é’ˆå¯¹å‰å…­ç§ç±»å‹æ•°æ®é›†ï¼ŒFlinkçš†å¯ä»¥è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„TypeSerializerï¼Œèƒ½éå¸¸é«˜æ•ˆåœ°å¯¹æ•°æ®é›†è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</p><p>ä¹ã€ Flinkä¸­çš„Windowå‡ºç°äº†æ•°æ®å€¾æ–œï¼Œä½ æœ‰ä»€ä¹ˆè§£å†³åŠæ³•ï¼Ÿ</p><p>windowäº§ç”Ÿæ•°æ®å€¾æ–œæŒ‡çš„æ˜¯æ•°æ®åœ¨ä¸åŒçš„çª—å£å†…å †ç§¯çš„æ•°æ®é‡ç›¸å·®è¿‡å¤šã€‚æœ¬è´¨ä¸Šäº§ç”Ÿè¿™ç§æƒ…å†µçš„åŸå› æ˜¯æ•°æ®æºå¤´å‘é€çš„æ•°æ®é‡é€Ÿåº¦ä¸åŒå¯¼è‡´çš„ã€‚å‡ºç°è¿™ç§æƒ…å†µä¸€èˆ¬é€šè¿‡ä¸¤ç§æ–¹å¼æ¥è§£å†³ï¼š</p><ul><li><p>åœ¨æ•°æ®è¿›å…¥çª—å£å‰åšé¢„èšåˆ</p></li><li><p>é‡æ–°è®¾è®¡çª—å£èšåˆçš„key</p></li></ul><p>åã€ Flinkä¸­åœ¨ä½¿ç”¨èšåˆå‡½æ•° GroupByã€Distinctã€KeyBy ç­‰å‡½æ•°æ—¶å‡ºç°æ•°æ®çƒ­ç‚¹è¯¥å¦‚ä½•è§£å†³ï¼Ÿ</p><p>æ•°æ®å€¾æ–œå’Œæ•°æ®çƒ­ç‚¹æ˜¯æ‰€æœ‰å¤§æ•°æ®æ¡†æ¶ç»•ä¸è¿‡å»çš„é—®é¢˜ã€‚å¤„ç†è¿™ç±»é—®é¢˜ä¸»è¦ä»3ä¸ªæ–¹é¢å…¥æ‰‹ï¼š</p><ul><li>åœ¨ä¸šåŠ¡ä¸Šè§„é¿è¿™ç±»é—®é¢˜</li></ul><p>ä¾‹å¦‚ä¸€ä¸ªå‡è®¾è®¢å•åœºæ™¯ï¼ŒåŒ—äº¬å’Œä¸Šæµ·ä¸¤ä¸ªåŸå¸‚è®¢å•é‡å¢é•¿å‡ åå€ï¼Œå…¶ä½™åŸå¸‚çš„æ•°æ®é‡ä¸å˜ã€‚è¿™æ—¶å€™æˆ‘ä»¬åœ¨è¿›è¡Œèšåˆçš„æ—¶å€™ï¼ŒåŒ—äº¬å’Œä¸Šæµ·å°±ä¼šå‡ºç°æ•°æ®å †ç§¯ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬æ•°æ®åŒ—äº¬å’Œä¸Šæµ·çš„æ•°æ®ã€‚</p><ul><li>Keyçš„è®¾è®¡ä¸Š</li></ul><p>æŠŠçƒ­keyè¿›è¡Œæ‹†åˆ†ï¼Œæ¯”å¦‚ä¸Šä¸ªä¾‹å­ä¸­çš„åŒ—äº¬å’Œä¸Šæµ·ï¼Œå¯ä»¥æŠŠåŒ—äº¬å’Œä¸Šæµ·æŒ‰ç…§åœ°åŒºè¿›è¡Œæ‹†åˆ†èšåˆã€‚</p><ul><li>å‚æ•°è®¾ç½®</li></ul><p>Flink 1.9.0 SQL(Blink Planner) æ€§èƒ½ä¼˜åŒ–ä¸­ä¸€é¡¹é‡è¦çš„æ”¹è¿›å°±æ˜¯å‡çº§äº†å¾®æ‰¹æ¨¡å‹ï¼Œå³ MiniBatchã€‚åŸç†æ˜¯ç¼“å­˜ä¸€å®šçš„æ•°æ®åå†è§¦å‘å¤„ç†ï¼Œä»¥å‡å°‘å¯¹Stateçš„è®¿é—®ï¼Œä»è€Œæå‡ååå’Œå‡å°‘æ•°æ®çš„è¾“å‡ºé‡ã€‚</p><p>åä¸€ã€Flinkä»»åŠ¡å»¶è¿Ÿé«˜ï¼Œæƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ ä¼šå¦‚ä½•å…¥æ‰‹ï¼Ÿ</p><p>åœ¨Flinkçš„åå°ä»»åŠ¡ç®¡ç†ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°Flinkçš„å“ªä¸ªç®—å­å’Œtaskå‡ºç°äº†åå‹ã€‚æœ€ä¸»è¦çš„æ‰‹æ®µæ˜¯èµ„æºè°ƒä¼˜å’Œç®—å­è°ƒä¼˜ã€‚èµ„æºè°ƒä¼˜å³æ˜¯å¯¹ä½œä¸šä¸­çš„Operatorçš„å¹¶å‘æ•°ï¼ˆparallelismï¼‰ã€CPUï¼ˆcoreï¼‰ã€å †å†…å­˜ï¼ˆheap_memoryï¼‰ç­‰å‚æ•°è¿›è¡Œè°ƒä¼˜ã€‚ä½œä¸šå‚æ•°è°ƒä¼˜åŒ…æ‹¬ï¼šå¹¶è¡Œåº¦çš„è®¾ç½®ï¼ŒStateçš„è®¾ç½®ï¼Œcheckpointçš„è®¾ç½®ã€‚</p><p>åäºŒã€Flinkæ˜¯å¦‚ä½•å¤„ç†åå‹çš„ï¼Ÿ</p><p>Flink å†…éƒ¨æ˜¯åŸºäº producer-consumer æ¨¡å‹æ¥è¿›è¡Œæ¶ˆæ¯ä¼ é€’çš„ï¼ŒFlinkçš„åå‹è®¾è®¡ä¹Ÿæ˜¯åŸºäºè¿™ä¸ªæ¨¡å‹ã€‚Flink ä½¿ç”¨äº†é«˜æ•ˆæœ‰ç•Œçš„åˆ†å¸ƒå¼é˜»å¡é˜Ÿåˆ—ï¼Œå°±åƒ Java é€šç”¨çš„é˜»å¡é˜Ÿåˆ—ï¼ˆBlockingQueueï¼‰ä¸€æ ·ã€‚ä¸‹æ¸¸æ¶ˆè´¹è€…æ¶ˆè´¹å˜æ…¢ï¼Œä¸Šæ¸¸å°±ä¼šå—åˆ°é˜»å¡ã€‚</p><p>åä¸‰ã€Flinkçš„åå‹å’ŒStromæœ‰å“ªäº›ä¸åŒï¼Ÿ</p><p>Storm æ˜¯é€šè¿‡ç›‘æ§ Bolt ä¸­çš„æ¥æ”¶é˜Ÿåˆ—è´Ÿè½½æƒ…å†µï¼Œå¦‚æœè¶…è¿‡é«˜æ°´ä½å€¼å°±ä¼šå°†åå‹ä¿¡æ¯å†™åˆ° Zookeeper ï¼ŒZookeeper ä¸Šçš„ watch ä¼šé€šçŸ¥è¯¥æ‹“æ‰‘çš„æ‰€æœ‰ Worker éƒ½è¿›å…¥åå‹çŠ¶æ€ï¼Œæœ€å Spout åœæ­¢å‘é€ tupleã€‚</p><p>Flinkä¸­çš„åå‹ä½¿ç”¨äº†é«˜æ•ˆæœ‰ç•Œçš„åˆ†å¸ƒå¼é˜»å¡é˜Ÿåˆ—ï¼Œä¸‹æ¸¸æ¶ˆè´¹å˜æ…¢ä¼šå¯¼è‡´å‘é€ç«¯é˜»å¡ã€‚</p><p>äºŒè€…æœ€å¤§çš„åŒºåˆ«æ˜¯Flinkæ˜¯é€çº§åå‹ï¼Œè€ŒStormæ˜¯ç›´æ¥ä»æºå¤´é™é€Ÿã€‚</p><p>åå››ã€ Operator Chainsï¼ˆç®—å­é“¾ï¼‰è¿™ä¸ªæ¦‚å¿µä½ äº†è§£å—ï¼Ÿ</p><p>ä¸ºäº†æ›´é«˜æ•ˆåœ°åˆ†å¸ƒå¼æ‰§è¡Œï¼ŒFlinkä¼šå°½å¯èƒ½åœ°å°†operatorçš„subtaské“¾æ¥ï¼ˆchainï¼‰åœ¨ä¸€èµ·å½¢æˆtaskã€‚æ¯ä¸ªtaskåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œã€‚å°†operatorsé“¾æ¥æˆtaskæ˜¯éå¸¸æœ‰æ•ˆçš„ä¼˜åŒ–ï¼šå®ƒèƒ½å‡å°‘çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢ï¼Œå‡å°‘æ¶ˆæ¯çš„åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼Œå‡å°‘æ•°æ®åœ¨ç¼“å†²åŒºçš„äº¤æ¢ï¼Œå‡å°‘äº†å»¶è¿Ÿçš„åŒæ—¶æé«˜æ•´ä½“çš„ååé‡ã€‚è¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ç®—å­é“¾ã€‚</p><p>åäº”ã€ Flinkä»€ä¹ˆæƒ…å†µä¸‹æ‰ä¼šæŠŠOperator chainåœ¨ä¸€èµ·å½¢æˆç®—å­é“¾ï¼Ÿ</p><p>ä¸¤ä¸ªoperator chainåœ¨ä¸€èµ·çš„çš„æ¡ä»¶ï¼š</p><ul><li><p>ä¸Šä¸‹æ¸¸çš„å¹¶è¡Œåº¦ä¸€è‡´</p></li><li><p>ä¸‹æ¸¸èŠ‚ç‚¹çš„å…¥åº¦ä¸º1 ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸‹æ¸¸èŠ‚ç‚¹æ²¡æœ‰æ¥è‡ªå…¶ä»–èŠ‚ç‚¹çš„è¾“å…¥ï¼‰</p></li><li><p>ä¸Šä¸‹æ¸¸èŠ‚ç‚¹éƒ½åœ¨åŒä¸€ä¸ª slot group ä¸­ï¼ˆä¸‹é¢ä¼šè§£é‡Š slot groupï¼‰</p></li><li><p>ä¸‹æ¸¸èŠ‚ç‚¹çš„ chain ç­–ç•¥ä¸º ALWAYSï¼ˆå¯ä»¥ä¸ä¸Šä¸‹æ¸¸é“¾æ¥ï¼Œmapã€flatmapã€filterç­‰é»˜è®¤æ˜¯ALWAYSï¼‰</p></li><li><p>ä¸Šæ¸¸èŠ‚ç‚¹çš„ chain ç­–ç•¥ä¸º ALWAYS æˆ– HEADï¼ˆåªèƒ½ä¸ä¸‹æ¸¸é“¾æ¥ï¼Œä¸èƒ½ä¸ä¸Šæ¸¸é“¾æ¥ï¼ŒSourceé»˜è®¤æ˜¯HEADï¼‰</p></li><li><p>ä¸¤ä¸ªèŠ‚ç‚¹é—´æ•°æ®åˆ†åŒºæ–¹å¼æ˜¯ forwardï¼ˆå‚è€ƒç†è§£æ•°æ®æµçš„åˆ†åŒºï¼‰</p></li><li><p>ç”¨æˆ·æ²¡æœ‰ç¦ç”¨ chain</p></li></ul><p>åå…­ã€ è¯´è¯´Flink1.9çš„æ–°ç‰¹æ€§ï¼Ÿ</p><ul><li><p>æ”¯æŒhiveè¯»å†™ï¼Œæ”¯æŒUDF</p></li><li><p>Flink SQL TopNå’ŒGroupByç­‰ä¼˜åŒ–</p></li><li><p>Checkpointè·Ÿsavepointé’ˆå¯¹å®é™…ä¸šåŠ¡åœºæ™¯åšäº†ä¼˜åŒ–</p></li><li><p>Flink stateæŸ¥è¯¢</p></li></ul><p>åä¸ƒã€æ¶ˆè´¹kafkaæ•°æ®çš„æ—¶å€™ï¼Œå¦‚ä½•å¤„ç†è„æ•°æ®ï¼Ÿ</p><p>å¯ä»¥åœ¨å¤„ç†å‰åŠ ä¸€ä¸ªfliterç®—å­ï¼Œå°†ä¸ç¬¦åˆè§„åˆ™çš„æ•°æ®è¿‡æ»¤å‡ºå»ã€‚</p><h2 id="ç¬¬ä¸‰éƒ¨åˆ†-flink-é¢è¯•æºç ç¯‡" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸‰éƒ¨åˆ†-flink-é¢è¯•æºç ç¯‡"><span>ç¬¬ä¸‰éƒ¨åˆ†ï¼šFlink é¢è¯•æºç ç¯‡</span></a></h2><p>ä¸€ã€Flink Jobçš„æäº¤æµç¨‹Â ç”¨æˆ·æäº¤çš„Flink Jobä¼šè¢«è½¬åŒ–æˆä¸€ä¸ªDAGä»»åŠ¡è¿è¡Œï¼Œåˆ†åˆ«æ˜¯ï¼šStreamGraphã€JobGraphã€ExecutionGraphï¼ŒFlinkä¸­JobManagerä¸TaskManagerï¼ŒJobManagerä¸Clientçš„äº¤äº’æ˜¯åŸºäºAkkaå·¥å…·åŒ…çš„ï¼Œæ˜¯é€šè¿‡æ¶ˆæ¯é©±åŠ¨ã€‚æ•´ä¸ªFlink Jobçš„æäº¤è¿˜åŒ…å«ç€ActorSystemçš„åˆ›å»ºï¼ŒJobManagerçš„å¯åŠ¨ï¼ŒTaskManagerçš„å¯åŠ¨å’Œæ³¨å†Œã€‚</p><p>äºŒã€Flinkæ‰€è°“&quot;ä¸‰å±‚å›¾&quot;ç»“æ„æ˜¯å“ªå‡ ä¸ª&quot;å›¾&quot;ï¼Ÿ</p><p>ä¸€ä¸ªFlinkä»»åŠ¡çš„DAGç”Ÿæˆè®¡ç®—å›¾å¤§è‡´ç»å†ä»¥ä¸‹ä¸‰ä¸ªè¿‡ç¨‹ï¼š</p><ul><li><p>StreamGraph æœ€æ¥è¿‘ä»£ç æ‰€è¡¨è¾¾çš„é€»è¾‘å±‚é¢çš„è®¡ç®—æ‹“æ‰‘ç»“æ„ï¼ŒæŒ‰ç…§ç”¨æˆ·ä»£ç çš„æ‰§è¡Œé¡ºåºå‘StreamExecutionEnvironmentæ·»åŠ StreamTransformationæ„æˆæµå¼å›¾ã€‚</p></li><li><p>JobGraph ä»StreamGraphç”Ÿæˆï¼Œå°†å¯ä»¥ä¸²è”åˆå¹¶çš„èŠ‚ç‚¹è¿›è¡Œåˆå¹¶ï¼Œè®¾ç½®èŠ‚ç‚¹ä¹‹é—´çš„è¾¹ï¼Œå®‰æ’èµ„æºå…±äº«slotæ§½ä½å’Œæ”¾ç½®ç›¸å…³è”çš„èŠ‚ç‚¹ï¼Œä¸Šä¼ ä»»åŠ¡æ‰€éœ€çš„æ–‡ä»¶ï¼Œè®¾ç½®æ£€æŸ¥ç‚¹é…ç½®ç­‰ã€‚ç›¸å½“äºç»è¿‡éƒ¨åˆ†åˆå§‹åŒ–å’Œä¼˜åŒ–å¤„ç†çš„ä»»åŠ¡å›¾ã€‚</p></li><li><p>ExecutionGraph ç”±JobGraphè½¬æ¢è€Œæ¥ï¼ŒåŒ…å«äº†ä»»åŠ¡å…·ä½“æ‰§è¡Œæ‰€éœ€çš„å†…å®¹ï¼Œæ˜¯æœ€è´´è¿‘åº•å±‚å®ç°çš„æ‰§è¡Œå›¾ã€‚</p></li></ul><p>ä¸‰ã€JobMangeråœ¨é›†ç¾¤ä¸­æ‰®æ¼”äº†ä»€ä¹ˆè§’è‰²ï¼Ÿ</p><p>JobManager è´Ÿè´£æ•´ä¸ª Flink é›†ç¾¤ä»»åŠ¡çš„è°ƒåº¦ä»¥åŠèµ„æºçš„ç®¡ç†ï¼Œä»å®¢æˆ·ç«¯ä¸­è·å–æäº¤çš„åº”ç”¨ï¼Œç„¶åæ ¹æ®é›†ç¾¤ä¸­ TaskManager ä¸Š TaskSlot çš„ä½¿ç”¨æƒ…å†µï¼Œä¸ºæäº¤çš„åº”ç”¨åˆ†é…ç›¸åº”çš„ TaskSlot èµ„æºå¹¶å‘½ä»¤ TaskManager å¯åŠ¨ä»å®¢æˆ·ç«¯ä¸­è·å–çš„åº”ç”¨ã€‚</p><p>JobManager ç›¸å½“äºæ•´ä¸ªé›†ç¾¤çš„ Master èŠ‚ç‚¹ï¼Œä¸”æ•´ä¸ªé›†ç¾¤æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ´»è·ƒçš„ JobManager ï¼Œè´Ÿè´£æ•´ä¸ªé›†ç¾¤çš„ä»»åŠ¡ç®¡ç†å’Œèµ„æºç®¡ç†ã€‚</p><p>JobManager å’Œ TaskManager ä¹‹é—´é€šè¿‡ Actor System è¿›è¡Œé€šä¿¡ï¼Œè·å–ä»»åŠ¡æ‰§è¡Œçš„æƒ…å†µå¹¶é€šè¿‡ Actor System å°†åº”ç”¨çš„ä»»åŠ¡æ‰§è¡Œæƒ…å†µå‘é€ç»™å®¢æˆ·ç«¯ã€‚</p><p>åŒæ—¶åœ¨ä»»åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼ŒFlink JobManager ä¼šè§¦å‘ Checkpoint æ“ä½œï¼Œæ¯ä¸ª TaskManager èŠ‚ç‚¹ æ”¶åˆ° Checkpoint è§¦å‘æŒ‡ä»¤åï¼Œå®Œæˆ Checkpoint æ“ä½œï¼Œæ‰€æœ‰çš„ Checkpoint åè°ƒè¿‡ç¨‹éƒ½æ˜¯åœ¨ Fink JobManager ä¸­å®Œæˆã€‚</p><p>å½“ä»»åŠ¡å®Œæˆåï¼ŒFlink ä¼šå°†ä»»åŠ¡æ‰§è¡Œçš„ä¿¡æ¯åé¦ˆç»™å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”é‡Šæ”¾æ‰ TaskManager ä¸­çš„èµ„æºä»¥ä¾›ä¸‹ä¸€æ¬¡æäº¤ä»»åŠ¡ä½¿ç”¨ã€‚</p><p>å››ã€JobMangeråœ¨é›†ç¾¤å¯åŠ¨è¿‡ç¨‹ä¸­èµ·åˆ°ä»€ä¹ˆä½œç”¨ï¼Ÿ</p><p>JobManagerçš„èŒè´£ä¸»è¦æ˜¯æ¥æ”¶Flinkä½œä¸šï¼Œè°ƒåº¦Taskï¼Œæ”¶é›†ä½œä¸šçŠ¶æ€å’Œç®¡ç†TaskManagerã€‚å®ƒåŒ…å«ä¸€ä¸ªActorï¼Œå¹¶ä¸”åšå¦‚ä¸‹æ“ä½œï¼š</p><ul><li><p>RegisterTaskManager: å®ƒç”±æƒ³è¦æ³¨å†Œåˆ°JobManagerçš„TaskManagerå‘é€ã€‚æ³¨å†ŒæˆåŠŸä¼šé€šè¿‡AcknowledgeRegistrationæ¶ˆæ¯è¿›è¡ŒAckã€‚</p></li><li><p>SubmitJob: ç”±æäº¤ä½œä¸šåˆ°ç³»ç»Ÿçš„Clientå‘é€ã€‚æäº¤çš„ä¿¡æ¯æ˜¯JobGraphå½¢å¼çš„ä½œä¸šæè¿°ä¿¡æ¯ã€‚</p></li><li><p>CancelJob: è¯·æ±‚å–æ¶ˆæŒ‡å®šidçš„ä½œä¸šã€‚æˆåŠŸä¼šè¿”å›CancellationSuccessï¼Œå¦åˆ™è¿”å›CancellationFailureã€‚</p></li><li><p>UpdateTaskExecutionState: ç”±TaskManagerå‘é€ï¼Œç”¨æ¥æ›´æ–°æ‰§è¡ŒèŠ‚ç‚¹(ExecutionVertex)çš„çŠ¶æ€ã€‚æˆåŠŸåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚</p></li><li><p>RequestNextInputSplit: TaskManagerä¸Šçš„Taskè¯·æ±‚ä¸‹ä¸€ä¸ªè¾“å…¥splitï¼ŒæˆåŠŸåˆ™è¿”å›NextInputSplitï¼Œå¦åˆ™è¿”å›nullã€‚</p></li><li><p>JobStatusChangedï¼šå®ƒæ„å‘³ç€ä½œä¸šçš„çŠ¶æ€(RUNNING, CANCELING, FINISHED,ç­‰)å‘ç”Ÿå˜åŒ–ã€‚è¿™ä¸ªæ¶ˆæ¯ç”±ExecutionGraphå‘é€ã€‚</p></li></ul><p>äº”ã€TaskManageråœ¨é›†ç¾¤ä¸­æ‰®æ¼”äº†ä»€ä¹ˆè§’è‰²ï¼Ÿ</p><p>TaskManager ç›¸å½“äºæ•´ä¸ªé›†ç¾¤çš„ Slave èŠ‚ç‚¹ï¼Œè´Ÿè´£å…·ä½“çš„ä»»åŠ¡æ‰§è¡Œå’Œå¯¹åº”ä»»åŠ¡åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„èµ„æºç”³è¯·å’Œç®¡ç†ã€‚</p><p>å®¢æˆ·ç«¯é€šè¿‡å°†ç¼–å†™å¥½çš„ Flink åº”ç”¨ç¼–è¯‘æ‰“åŒ…ï¼Œæäº¤åˆ° JobManagerï¼Œç„¶å JobManager ä¼šæ ¹æ®å·²æ³¨å†Œåœ¨ JobManager ä¸­ TaskManager çš„èµ„æºæƒ…å†µï¼Œå°†ä»»åŠ¡åˆ†é…ç»™æœ‰èµ„æºçš„ TaskManagerèŠ‚ç‚¹ï¼Œç„¶åå¯åŠ¨å¹¶è¿è¡Œä»»åŠ¡ã€‚</p><p>TaskManager ä» JobManager æ¥æ”¶éœ€è¦éƒ¨ç½²çš„ä»»åŠ¡ï¼Œç„¶åä½¿ç”¨ Slot èµ„æºå¯åŠ¨ Taskï¼Œå»ºç«‹æ•°æ®æ¥å…¥çš„ç½‘ç»œè¿æ¥ï¼Œæ¥æ”¶æ•°æ®å¹¶å¼€å§‹æ•°æ®å¤„ç†ã€‚åŒæ—¶ TaskManager ä¹‹é—´çš„æ•°æ®äº¤äº’éƒ½æ˜¯é€šè¿‡æ•°æ®æµçš„æ–¹å¼è¿›è¡Œçš„ã€‚</p><p>å¯ä»¥çœ‹å‡ºï¼ŒFlink çš„ä»»åŠ¡è¿è¡Œå…¶å®æ˜¯é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œè¿™å’Œ MapReduce å¤š JVM è¿›è¡Œçš„æ–¹å¼æœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼ŒFlink èƒ½å¤Ÿæå¤§æé«˜ CPU ä½¿ç”¨æ•ˆç‡ï¼Œåœ¨å¤šä¸ªä»»åŠ¡å’Œ Task ä¹‹é—´é€šè¿‡ TaskSlot æ–¹å¼å…±äº«ç³»ç»Ÿèµ„æºï¼Œæ¯ä¸ª TaskManager ä¸­é€šè¿‡ç®¡ç†å¤šä¸ª TaskSlot èµ„æºæ± è¿›è¡Œå¯¹èµ„æºè¿›è¡Œæœ‰æ•ˆç®¡ç†ã€‚</p><p>å…­ã€TaskManageråœ¨é›†ç¾¤å¯åŠ¨è¿‡ç¨‹ä¸­èµ·åˆ°ä»€ä¹ˆä½œç”¨ï¼Ÿ</p><p>TaskManagerçš„å¯åŠ¨æµç¨‹è¾ƒä¸ºç®€å•ï¼šå¯åŠ¨ç±»ï¼šorg.apache.flink.runtime.taskmanager.TaskManager æ ¸å¿ƒå¯åŠ¨æ–¹æ³• ï¼šselectNetworkInterfaceAndRunTaskManager å¯åŠ¨åç›´æ¥å‘JobManageræ³¨å†Œè‡ªå·±ï¼Œæ³¨å†Œå®Œæˆåï¼Œè¿›è¡Œéƒ¨åˆ†æ¨¡å—çš„åˆå§‹åŒ–ã€‚</p><p>ä¸ƒã€Flink è®¡ç®—èµ„æºçš„è°ƒåº¦æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p><p>TaskManagerä¸­æœ€ç»†ç²’åº¦çš„èµ„æºæ˜¯Task slotï¼Œä»£è¡¨äº†ä¸€ä¸ªå›ºå®šå¤§å°çš„èµ„æºå­é›†ï¼Œæ¯ä¸ªTaskManagerä¼šå°†å…¶æ‰€å æœ‰çš„èµ„æºå¹³åˆ†ç»™å®ƒçš„slotã€‚</p><p>é€šè¿‡è°ƒæ•´ task slot çš„æ•°é‡ï¼Œç”¨æˆ·å¯ä»¥å®šä¹‰taskä¹‹é—´æ˜¯å¦‚ä½•ç›¸äº’éš”ç¦»çš„ã€‚æ¯ä¸ª TaskManager æœ‰ä¸€ä¸ªslotï¼Œä¹Ÿå°±æ„å‘³ç€æ¯ä¸ªtaskè¿è¡Œåœ¨ç‹¬ç«‹çš„ JVM ä¸­ã€‚æ¯ä¸ª TaskManager æœ‰å¤šä¸ªslotçš„è¯ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šä¸ªtaskè¿è¡Œåœ¨åŒä¸€ä¸ªJVMä¸­ã€‚</p><p>è€Œåœ¨åŒä¸€ä¸ªJVMè¿›ç¨‹ä¸­çš„taskï¼Œå¯ä»¥å…±äº«TCPè¿æ¥ï¼ˆåŸºäºå¤šè·¯å¤ç”¨ï¼‰å’Œå¿ƒè·³æ¶ˆæ¯ï¼Œå¯ä»¥å‡å°‘æ•°æ®çš„ç½‘ç»œä¼ è¾“ï¼Œä¹Ÿèƒ½å…±äº«ä¸€äº›æ•°æ®ç»“æ„ï¼Œä¸€å®šç¨‹åº¦ä¸Šå‡å°‘äº†æ¯ä¸ªtaskçš„æ¶ˆè€—ã€‚æ¯ä¸ªslotå¯ä»¥æ¥å—å•ä¸ªtaskï¼Œä¹Ÿå¯ä»¥æ¥å—å¤šä¸ªè¿ç»­taskç»„æˆçš„pipelineï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒFlatMapå‡½æ•°å ç”¨ä¸€ä¸ªtaskslotï¼Œè€Œkey Aggå‡½æ•°å’Œsinkå‡½æ•°å…±ç”¨ä¸€ä¸ªtaskslotï¼š</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTWdTZjBSQnRGRndFVEw0T3E1eHkzd0lkNGJhSkdDdE0waWJlNm9DeGdHQWVJRUJpYjVLaWI4Tzc0QS82NDA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å…«ã€ç®€è¿°Flinkçš„æ•°æ®æŠ½è±¡åŠæ•°æ®äº¤æ¢è¿‡ç¨‹ï¼Ÿ</p><p>Flink ä¸ºäº†é¿å…JVMçš„å›ºæœ‰ç¼ºé™·ä¾‹å¦‚javaå¯¹è±¡å­˜å‚¨å¯†åº¦ä½ï¼ŒFGCå½±å“ååå’Œå“åº”ç­‰ï¼Œå®ç°äº†è‡ªä¸»ç®¡ç†å†…å­˜ã€‚MemorySegmentå°±æ˜¯Flinkçš„å†…å­˜æŠ½è±¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªMemorySegmentå¯ä»¥è¢«çœ‹åšæ˜¯ä¸€ä¸ª32kbå¤§çš„å†…å­˜å—çš„æŠ½è±¡ã€‚è¿™å—å†…å­˜æ—¢å¯ä»¥æ˜¯JVMé‡Œçš„ä¸€ä¸ªbyte[]ï¼Œä¹Ÿå¯ä»¥æ˜¯å †å¤–å†…å­˜ï¼ˆDirectByteBufferï¼‰ã€‚</p><p>åœ¨MemorySegmentè¿™ä¸ªæŠ½è±¡ä¹‹ä¸Šï¼ŒFlinkåœ¨æ•°æ®ä»operatorå†…çš„æ•°æ®å¯¹è±¡åœ¨å‘TaskManagerä¸Šè½¬ç§»ï¼Œé¢„å¤‡è¢«å‘ç»™ä¸‹ä¸ªèŠ‚ç‚¹çš„è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨çš„æŠ½è±¡æˆ–è€…è¯´å†…å­˜å¯¹è±¡æ˜¯Bufferã€‚</p><p>å¯¹æ¥ä»Javaå¯¹è±¡è½¬ä¸ºBufferçš„ä¸­é—´å¯¹è±¡æ˜¯å¦ä¸€ä¸ªæŠ½è±¡StreamRecordã€‚</p><p>ä¹ã€Flink ä¸­çš„åˆ†å¸ƒå¼å¿«ç…§æœºåˆ¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p><p>Flinkçš„å®¹é”™æœºåˆ¶çš„æ ¸å¿ƒéƒ¨åˆ†æ˜¯åˆ¶ä½œåˆ†å¸ƒå¼æ•°æ®æµå’Œæ“ä½œç®—å­çŠ¶æ€çš„ä¸€è‡´æ€§å¿«ç…§ã€‚è¿™äº›å¿«ç…§å……å½“ä¸€è‡´æ€§checkpointï¼Œç³»ç»Ÿå¯ä»¥åœ¨å‘ç”Ÿæ•…éšœæ—¶å›æ»šã€‚Flinkç”¨äºåˆ¶ä½œè¿™äº›å¿«ç…§çš„æœºåˆ¶åœ¨â€œåˆ†å¸ƒå¼æ•°æ®æµçš„è½»é‡çº§å¼‚æ­¥å¿«ç…§â€ä¸­è¿›è¡Œäº†æè¿°ã€‚å®ƒå—åˆ°åˆ†å¸ƒå¼å¿«ç…§çš„æ ‡å‡†Chandy-Lamportç®—æ³•çš„å¯å‘ï¼Œä¸“é—¨é’ˆå¯¹Flinkçš„æ‰§è¡Œæ¨¡å‹è€Œå®šåˆ¶ã€‚</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTTBEY3l5UzdzdWNjVndIV0RMRURaYzZiRzIxeXJHMUk0a1NMV25SZWJWZHk3Zm9jNUlXVDd0QS82NDA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>barriersåœ¨æ•°æ®æµæºå¤„è¢«æ³¨å…¥å¹¶è¡Œæ•°æ®æµä¸­ã€‚å¿«ç…§nçš„barriersè¢«æ’å…¥çš„ä½ç½®ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºSnï¼‰æ˜¯å¿«ç…§æ‰€åŒ…å«çš„æ•°æ®åœ¨æ•°æ®æºä¸­æœ€å¤§ä½ç½®ã€‚ä¾‹å¦‚ï¼Œåœ¨Apache Kafkaä¸­ï¼Œæ­¤ä½ç½®å°†æ˜¯åˆ†åŒºä¸­æœ€åä¸€æ¡è®°å½•çš„åç§»é‡ã€‚å°†è¯¥ä½ç½®SnæŠ¥å‘Šç»™checkpointåè°ƒå™¨ï¼ˆFlinkçš„JobManagerï¼‰ã€‚</p><p>ç„¶åbarrierså‘ä¸‹æ¸¸æµåŠ¨ã€‚å½“ä¸€ä¸ªä¸­é—´æ“ä½œç®—å­ä»å…¶æ‰€æœ‰è¾“å…¥æµä¸­æ”¶åˆ°å¿«ç…§nçš„barriersæ—¶ï¼Œå®ƒä¼šä¸ºå¿«ç…§nå‘å‡ºbarriersè¿›å…¥å…¶æ‰€æœ‰è¾“å‡ºæµä¸­ã€‚ä¸€æ—¦sinkæ“ä½œç®—å­ï¼ˆæµå¼DAGçš„æœ«ç«¯ï¼‰ä»å…¶æ‰€æœ‰è¾“å…¥æµæ¥æ”¶åˆ°barriers nï¼Œå®ƒå°±å‘checkpointåè°ƒå™¨ç¡®è®¤å¿«ç…§nå®Œæˆã€‚åœ¨æ‰€æœ‰sinkç¡®è®¤å¿«ç…§åï¼Œæ„å‘³å¿«ç…§ç€å·²å®Œæˆã€‚</p><p>ä¸€æ—¦å®Œæˆå¿«ç…§nï¼Œjobå°†æ°¸è¿œä¸å†å‘æ•°æ®æºè¯·æ±‚Snä¹‹å‰çš„è®°å½•ï¼Œå› ä¸ºæ­¤æ—¶è¿™äº›è®°å½•ï¼ˆåŠå…¶åç»­è®°å½•ï¼‰å°†å·²ç»é€šè¿‡æ•´ä¸ªæ•°æ®æµæ‹“æ‰‘ï¼Œä¹Ÿå³æ˜¯å·²ç»è¢«å¤„ç†ç»“æŸã€‚</p><p>åã€ç®€å•è¯´è¯´FlinkSQLçš„æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p><p>Flink å°† SQL æ ¡éªŒã€SQL è§£æä»¥åŠ SQL ä¼˜åŒ–äº¤ç»™äº†Apache Calciteã€‚Calcite åœ¨å…¶ä»–å¾ˆå¤šå¼€æºé¡¹ç›®é‡Œä¹Ÿéƒ½åº”ç”¨åˆ°äº†ï¼Œè­¬å¦‚ Apache Hive, Apache Drill, Apache Kylin, Cascadingã€‚Calcite åœ¨æ–°çš„æ¶æ„ä¸­å¤„äºæ ¸å¿ƒçš„åœ°ä½ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X2pwZy9VZEs5QnlmTVQyT0tvRHA3T3VRUUUwZmNjUVFyTllYTUZZMGRTVTJoQVVxNERpY2VxSWNPcEIxQmdpYnZQdzNzRTJCbkNVM3pXVkJ0cXdwc2pnZFAweHB3LzY0MA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ„å»ºæŠ½è±¡è¯­æ³•æ ‘çš„äº‹æƒ…äº¤ç»™äº† Calcite å»åšã€‚SQL query ä¼šç»è¿‡ Calcite è§£æå™¨è½¬å˜æˆ SQL èŠ‚ç‚¹æ ‘ï¼Œé€šè¿‡éªŒè¯åæ„å»ºæˆ Calcite çš„æŠ½è±¡è¯­æ³•æ ‘ï¼ˆä¹Ÿå°±æ˜¯å›¾ä¸­çš„ Logical Planï¼‰ã€‚å¦ä¸€è¾¹ï¼ŒTable API ä¸Šçš„è°ƒç”¨ä¼šæ„å»ºæˆ Table API çš„æŠ½è±¡è¯­æ³•æ ‘ï¼Œå¹¶é€šè¿‡ Calcite æä¾›çš„ RelBuilder è½¬å˜æˆ Calcite çš„æŠ½è±¡è¯­æ³•æ ‘ã€‚ç„¶åä¾æ¬¡è¢«è½¬æ¢æˆé€»è¾‘æ‰§è¡Œè®¡åˆ’å’Œç‰©ç†æ‰§è¡Œè®¡åˆ’ã€‚</p><p>åœ¨æäº¤ä»»åŠ¡åä¼šåˆ†å‘åˆ°å„ä¸ª TaskManager ä¸­è¿è¡Œï¼Œåœ¨è¿è¡Œæ—¶ä¼šä½¿ç”¨ Janino ç¼–è¯‘å™¨ç¼–è¯‘ä»£ç åè¿è¡Œã€‚</p><p>çŒœä½ å–œæ¬¢</p><p>1ã€<a href="https://blog.csdn.net/w397090770/article/details/103798230" target="_blank" rel="noopener noreferrer">è¿‡å¾€è®°å¿†å¤§æ•°æ®ï¼Œ2019å¹´åŸåˆ›ç²¾é€‰69ç¯‡</a></p><p>2ã€<a href="http://mp.weixin.qq.com/s?__biz=MzA5MTc0NTMwNQ%3D%3D&amp;chksm=887ddea9bf0a57bf0b82a548cd9d23c203737e1eb196a6218c6e7abc3a70e0ba369192df31b4&amp;idx=1&amp;mid=2650719199&amp;scene=21&amp;sn=e74631efe48f80f18b497638969b254f#wechat_redirect" target="_blank" rel="noopener noreferrer">Hadoop 2.7 ä¸åœæœå‡çº§åˆ° 3.2 åœ¨æ»´æ»´çš„å®è·µ</a></p><p>3ã€<a href="http://mp.weixin.qq.com/s?__biz=MzA5MTc0NTMwNQ%3D%3D&amp;chksm=887da293bf0a2b85469c388312c1cba191c5bccf8946db2808cd06a7aa9c56c7ae595f5db2b9&amp;idx=1&amp;mid=2650718181&amp;scene=21&amp;sn=69667c8316358ac66a8f5d5412429135#wechat_redirect" target="_blank" rel="noopener noreferrer">32 é“å¸¸è§çš„ Kafka é¢è¯•é¢˜ä½ éƒ½ä¼šå—ï¼Ÿé™„ç­”æ¡ˆ</a></p><p>4ã€<a href="https://blog.csdn.net/w397090770/article/details/103884239" target="_blank" rel="noopener noreferrer">OPPOç™¾ä¸‡çº§é«˜å¹¶å‘MongoDBé›†ç¾¤æ€§èƒ½æ•°åå€æå‡ä¼˜åŒ–å®è·µï¼ˆä¸‹ï¼‰</a></p><figure><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy8weUJEOWlhclgwbnZDaWI5RWt0QVVJeDdSQVppYUhmNUxuT1E5OHlnWWliMWZ4OFY1dDVXM0hNSjFJTXZmaWFUbEFtcFZPTTJRQXdvWHZkaWJsRmhsWjRNQ2E4QS82NDA?x-oss-process=image/format,png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¿‡å¾€è®°å¿†å¤§æ•°æ®å¾®ä¿¡ç¾¤ï¼Œè¯·æ·»åŠ å¾®ä¿¡ï¼šfangzhen0219,å¤‡æ³¨ã€è¿›ç¾¤ã€‘</p></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/lijc210/lijc210.github.io/edit/main/src/å¤§æ•°æ®/ç»„ä»¶/flink.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: lijc210@163.com">lijc210</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: lijc210@163.com">sampan</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/debezium.html" aria-label="debezium"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span>debezium</div></a><a class="route-link auto-link next" href="/%E5%A4%A7%E6%95%B0%E6%8D%AE/%E7%BB%84%E4%BB%B6/hadoop.html" aria-label="hadoop"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">hadoop<span class="font-icon icon fa-fw fa-sm fa-solid fa-book-open-reader" style=""></span></div></a></nav><div class="artalk-wrapper" id="vp-comment" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg><div></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2024 cizai </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Mj20pNCd.js" defer></script>
  </body>
</html>
